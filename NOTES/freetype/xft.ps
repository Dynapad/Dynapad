%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: xft.dvi
%%Pages: 17
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Roman Times-Italic Times-Bold Courier
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips xft
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2001.09.18:0017
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (xft.dvi)
@start /Fa 134[42 42 60 1[46 28 32 37 1[46 42 46 69 23
1[28 23 46 42 28 37 46 37 46 42 8[60 1[60 1[55 46 60
1[51 65 60 78 55 4[65 51 55 60 60 55 60 20[21 44[{
TeXBase1Encoding ReEncodeFont}40 83.022 /Times-Bold rf
%DVIPSBitmapFont: Fb cmr10 10 1
/Fb 1 59 df<121C127FEAFF80A5EA7F00121CC7FCB2121C127FEAFF80A5EA7F00121C09
2479A317>58 D E
%EndDVIPSBitmapFont
/Fc 103[50 26[50 50 50 50 50 50 50 50 50 50 50 50 1[50
50 50 50 50 1[50 50 50 50 50 50 50 50 50 50 1[50 4[50
50 50 1[50 50 50 50 50 1[50 50 50 50 50 2[50 1[50 50
50 50 50 50 50 1[50 50 50 50 50 50 1[50 1[50 1[50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 2[50 50 50 33[{
TeXBase1Encoding ReEncodeFont}76 83.022 /Courier rf
%DVIPSBitmapFont: Fd cmsy10 10 1
/Fd 1 107 df<126012F0B3B3B3B3A91260045377BD17>106 D E
%EndDVIPSBitmapFont
/Fe 133[32 37 37 55 37 42 23 32 32 42 42 42 42 60 23
37 1[23 42 42 23 37 42 37 42 42 8[51 69 1[60 46 42 51
3[55 4[28 2[51 51 1[55 1[51 14[42 42 42 2[28 21 44[{
TeXBase1Encoding ReEncodeFont}42 83.022 /Times-Italic
rf /Ff 134[45 1[66 1[51 30 35 40 1[51 45 51 76 25 2[25
51 45 30 40 51 40 1[45 8[66 3[61 51 66 1[56 1[66 86 61
2[35 1[71 56 61 66 66 1[66 9[45 45 45 45 45 45 45 45
1[23 43[51 2[{TeXBase1Encoding ReEncodeFont}44 90.9091
/Times-Bold rf /Fg 104[83 2[37 37 24[37 42 42 60 42 42
23 32 28 42 42 42 42 65 23 42 23 23 42 42 28 37 42 37
42 37 28 2[28 1[28 51 60 60 78 60 60 51 46 55 1[46 60
60 74 51 60 32 28 60 60 46 51 60 55 55 60 1[37 1[47 1[23
23 42 42 42 42 42 42 42 42 42 42 23 21 28 21 47 42 28
28 28 3[42 1[28 29[46 46 2[{TeXBase1Encoding ReEncodeFont}84
83.022 /Times-Roman rf /Fh 134[50 50 72 50 55 33 39 44
1[55 50 55 83 28 2[28 55 50 33 44 55 44 55 50 8[72 3[66
1[72 2[78 72 94 66 2[39 78 78 61 66 72 72 1[72 7[50 50
50 50 50 50 50 50 50 50 45[55 2[{TeXBase1Encoding ReEncodeFont}48
99.6264 /Times-Bold rf /Fi 138[50 2[39 2[50 50 72 7[44
1[44 1[50 8[61 3[55 50 9[33 2[61 61 1[66 10[50 1[50 7[25
1[25 44[{TeXBase1Encoding ReEncodeFont}19 99.6264 /Times-Italic
rf /Fj 139[28 1[33 1[50 50 1[78 1[50 1[28 50 2[44 50
44 1[44 16[55 4[72 10[92 17[25 46[{TeXBase1Encoding ReEncodeFont}16
99.6264 /Times-Roman rf /Fk 134[72 3[72 40 56 48 2[72
72 4[40 72 1[48 64 72 64 72 64 8[104 2[104 88 7[88 4[104
80 4[104 6[40 58[{TeXBase1Encoding ReEncodeFont}23 143.462
/Times-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop 1309 349 a Fk(The)34 b(Xft)i(F)n(ont)e(Library:)1080
531 y(Architecture)f(and)i(Users)g(Guide)1653 772 y Fj(K)n(eith)24
b(P)o(ackard)1318 888 y Fi(XF)-5 b(r)l(ee86)24 b(Cor)l(e)i(T)-9
b(eam,)25 b(SuSE)f(Inc.)1543 1005 y Fj(k)o(eithp@k)o(eithp.com)0
1330 y Fh(Abstract)0 1618 y Fg(The)16 b(X)h(Render)e(Extension)g(pro)o
(vides)f(a)j(ne)n(w)f(glyph)f(rendering)0 1718 y(architecture)g(based)i
(on)f(client-side)g(glyph)g(and)g(font)g(manage-)0 1818
y(ment.)44 b(While)27 b(this)h(resolv)o(es)e(man)o(y)f(tough)h
(technical)g(issues)0 1917 y(relating)e(to)i(the)f(e)o(xtension)f
(design,)h(it)h(places)f(the)g(b)n(urden)f(of)0 2017
y(rasterizing,)29 b(con\002guring)c(and)j(customizing)f(font)g(usage)h
(on)0 2117 y(e)n(v)o(ery)19 b(X)i(client.)0 2316 y(The)31
b(Xft)h(library)f(w)o(as)h(written)f(to)h(pro)o(vide)e(X)i
(applications)0 2415 y(a)k(con)m(v)o(enient)d(interf)o(ace)i(to)h(the)f
(FreeT)-7 b(ype)35 b(font)g(rasterizer)0 2515 y(and)22
b(the)g(Render)g(e)o(xtension.)30 b(As)23 b(FreeT)-7
b(ype)22 b(pro)o(vides)e(for)i(no)0 2615 y(con\002guration)29
b(or)j(customization,)h(Xft)f(also)g(performs)e(this)0
2714 y(task.)65 b(Xft)33 b(pro)o(vides)f(ne)n(w)h(font)g(naming)f(con)m
(v)o(entions,)i(so-)0 2814 y(phisticated)17 b(font)h(matching)f(and)g
(selection)h(mechanisms)f(and)0 2914 y(suf)n(\002cient)25
b(abstrations)g(to)g(permit)g(common)e(applications)h(to)0
3013 y(bene\002t)29 b(from)e(Render)i(e)o(xtension)e(based)i(te)o(xt)g
(output)f(while)0 3113 y(still)h(w)o(orking)e(on)h(X)g(serv)o(ers)g
(without)f(support)g(for)h(this)g(e)o(x-)0 3212 y(tension.)0
3617 y Fh(1)99 b(Intr)n(oduction)0 3906 y Fg(The)28 b(X)i(Render)e
(Extension[P)o(ac01)l(])h(mo)o(v)o(es)f(font\002le)g(access)0
4005 y(and)33 b(glyph)f(image)h(generation)f(from)g(the)i(X)g(serv)o
(er)f(to)h(the)0 4105 y(X)29 b(client.)50 b(Client-side)28
b(glyph)g(management)e(pro)o(vides)h(se)n(v-)0 4204 y(eral)c(adv)n
(antages)e(for)h(X)i(applications:)29 b(full)23 b(font-\002le)f
(access,)0 4304 y(application-speci\002c)g(fonts,)j(incremental)e
(rasterization)g(and)0 4404 y(the)j(ability)g(to)g(share)g(kno)n(wn)f
(fonts)g(with)h(other)g(parts)g(of)g(the)0 4503 y(en)m(vironment.)34
b(Additionally)-5 b(,)24 b(as)h(the)f(underlying)e(rendering)0
4603 y(mechanism)32 b(refers)h(only)g(to)h(images)f(and)g(not)g
(glyphs,)j(the)0 4703 y(glyph)17 b(rasterization)h(technology)e(and)i
(e)n(v)o(en)g(the)h(font)f(\002le)h(for)n(-)0 4802 y(mat)h(itself)h(no)
f(longer)f(depends)g(on)h(the)h(capabilities)f(of)g(the)g(X)0
4902 y(serv)o(er)-5 b(.)25 b(Inte)o(grating)18 b(ne)n(w)i(font)g
(technologies)e(can)i(no)n(w)g(mo)o(v)o(e)0 5001 y(at)g(the)g(rapid)e
(speed)h(of)h(indi)n(vidual)d(application)h(de)n(v)o(elopment)0
5101 y(rather)h(than)g(the)g(glacial)h(speed)f(of)g(the)h(general)e(a)n
(v)n(ailabilty)h(of)0 5201 y(ne)n(w)h(X)h(serv)o(er)e(enhancements.)0
5400 y(W)m(ith)j(the)g(X)g(serv)o(er)f(no)h(longer)f(in)h(char)o(ge)e
(of)h(managing)f(font)2010 1330 y(\002le)f(access)f(and)g
(rasterization,)f(a)i(ne)n(w)f(library)f(w)o(as)i(needed)d(to)2010
1430 y(perform)24 b(this)i(task)g(on)f(the)g(client)h(side)g(of)f(the)h
(wire.)41 b(As)27 b(the)2010 1529 y(Render)i(e)o(xtension)g(w)o(as)i
(designed)d(to)j(support)d(anti-aliased)2010 1629 y(graphics,)21
b(this)i(ne)n(w)f(library)f(needed)g(to)h(pro)o(vide)e(support)h(for)
2010 1729 y(high-quality)d(anti-aliased)h(glyph)g(rasterization.)2010
1928 y(The)26 b(FreeT)-7 b(ype)25 b(project[TT00)l(])i(has)f(de)n(v)o
(eloped)d(a)k(complete)2010 2027 y(font)j(rasterization)f(engine)h(for)
g(most)h(outline)e(font)h(formats)2010 2127 y(along)d(with)i(standard)e
(X)i(PCF)h(bitmap)d(fonts.)49 b(The)28 b(Render)2010
2227 y(e)o(xtension)c(tak)o(es)h(glyph)f(images)h(and)g(presents)g
(them)g(on)g(the)2010 2326 y(screen.)62 b(All)33 b(that)f(w)o(as)i
(needed)d(w)o(as)i(a)g(thin)g(layer)f(of)g(glue)2010
2426 y(code)24 b(to)h(\002t)h(between)e(FreeT)-7 b(ype)24
b(and)g(the)h(Render)f(e)o(xtension)2010 2526 y(to)c(enable)e
(applications)g(to)i(present)f(high-quality)d(te)o(xt)k(on)f(the)2010
2625 y(screen.)2010 2824 y(F)o(or)25 b(X)h(serv)o(ers)f(not)h
(supporting)d(the)i(Render)g(e)o(xtension,)h(the)2010
2924 y(library)f(should)f(pro)o(vide)g(access)i(to)g(\223core\224)f
(fonts)h(\(fonts)f(ac-)2010 3024 y(cessed)g(through)e(the)i(original)e
(core)i(X)g(protocol\).)37 b(This)25 b(per)n(-)2010 3123
y(mits)37 b(applications)d(to)i(mo)o(v)o(e)f(to)h(the)g(ne)n(w)f
(library)g(without)2010 3223 y(lea)n(ving)20 b(le)o(gac)o(y)e(X)j(serv)
o(er)e(support)g(behind.)2010 3422 y(The)35 b(FreeT)-7
b(ype)34 b(library)g(shies)i(from)e(specifying)g(ho)n(w)g(font)2010
3522 y(\002les)18 b(are)g(located;)f(instead)h(it)g(requires)e(that)h
(applications)g(pro-)2010 3621 y(vide)i(font)g(\002le)i(names)e(from)g
(which)g(glyphs)g(are)h(loaded.)j(This)2010 3721 y(places)18
b(the)h(b)n(urden)d(of)i(con\002guring)e(and)i(customizing)e(the)j(set)
2010 3821 y(of)31 b(a)n(v)n(ailable)g(fonts)f(outside)h(of)g(this)g
(library)-5 b(.)57 b(Clearly)-5 b(,)33 b(this)2010 3920
y(ne)n(w)19 b(\223glue\224)f(layer)h(w)o(ould)f(ha)n(v)o(e)h(to)g
(include)f(this)i(ability)e(to)i(be)2010 4020 y(usable)g(in)g(a)h
(desktop)e(en)m(vironment.)2010 4419 y Fh(2)99 b(X)20
b(Render)h(Extension)f(Glyph)f(Management)2010 4703 y
Fg(The)34 b(X)h(Render)f(e)o(xtension)f(pro)o(vides)g(a)i(couple)e(of)i
(simple)2010 4802 y(abstractions)d(for)h(applications)f(to)i(manage)e
(glyphs.)63 b(Each)2010 4902 y(Glyph)28 b(contains)g(the)g
(\223alpha\224)g(mask)h(\(a)f(rectangular)f(image)2010
5001 y(of)k(opacity)f(v)n(alues\))g(co)o(v)o(ering)e(the)j(glyph)f
(shape,)j(an)e(of)n(fset)2010 5101 y(from)23 b(the)h(origin)f(of)h(the)
g(alpha)f(mask)h(to)g(the)g(nominal)f(glyph)2010 5201
y(origin)32 b(and)g(a)h(def)o(ault)e(escapement,)k(with)e(both)e
(horizontal)2010 5300 y(and)c(v)o(ertical)g(of)n(fsets,)j(to)e(the)g
(ne)o(xt)f(glyph.)47 b(A)28 b(collection)f(of)2010 5400
y(Glyphs)g(are)h(contained)e(in)i(a)h(GlyphSet)e(and)g(are)h(numbered)p
eop
%%Page: 2 2
2 1 bop 0 83 a Fg(by)20 b(the)g(application)f(with)h(arbitrary)f
(32-bit)g(indices.)0 282 y(Applications)i(dra)o(w)g(te)o(xt)g(by)h
(sending)e(a)i(GlyphSet)f(identi\002er)0 382 y(and)15
b(a)h(list)g(of)f(indices)g(in)h(that)f(set.)24 b(The)15
b(serv)o(er)f(sets)j(each)e(glyph)0 482 y(by)k(rendering)f(the)i(alpha)
f(mask)g(at)h(the)g(speci\002ed)g(dra)o(wing)e(lo-)0
581 y(cation)27 b(adjusted)g(by)g(the)h(glyph)e(of)n(fset.)46
b(Successi)n(v)o(e)28 b(glyphs)0 681 y(are)i(positioned)e(by)h(adding)g
(the)g(escapement)g(v)o(ector)g(to)h(the)0 780 y(current)24
b(origin.)40 b(Just)27 b(as)f(with)g(the)g(core)f(PolyT)-6
b(e)o(xt)24 b(requests,)0 880 y(sequences)30 b(of)h(glyphs)f(can)g(be)h
(alternated)f(in)h(the)g(same)g(re-)0 980 y(quest)24
b(with)h(position)f(adjustments)g(and)g(GlyphSet)g(changes.)0
1079 y(This)h(allo)n(ws)g(a)g(comple)o(x)e(string)i(to)g(be)g(rendered)
d(in)j(a)h(single)0 1179 y(operation.)0 1378 y(As)19
b(the)g(required)e(set)i(of)f(operating)f(system)i(language)e(and)h
(lo-)0 1478 y(cale)24 b(support)f(e)o(xpands)g(to)h(co)o(v)o(er)f(more)
g(of)h(the)g(w)o(orld')-5 b(s)24 b(peo-)0 1577 y(ples,)29
b(the)d(number)f(of)i(glyphs)f(included)f(in)i(most)g(fonts)f(also)0
1677 y(increases.)64 b(Popular)32 b(outline)h(fonts)g(contain)f
(thousands)g(of)0 1777 y(glyphs)j(today)-5 b(.)72 b(Where)36
b(incrementally)f(rendering)f(glyphs)0 1876 y(w)o(as)21
b(considered)d(a)i(reasonable)f(optimization)f(ten)i(years)f(ago,)0
1976 y(it)e(is)f(no)n(w)g(an)f(essential)i(part)e(of)h(an)o(y)f(font)g
(mechanism)f(to)i(mini-)0 2076 y(mize)i(the)g(memory)e(usage)i(of)g
(each)g(font)f(and)g(reduce)g(the)h(time)0 2175 y(tak)o(en)i(when)f
(accessing)h(a)g(ne)n(w)g(font.)k(The)c(Render)f(e)o(xtension)0
2275 y(pro)o(vides)k(for)h(such)h(incremental)e(rasterization)h(by)h
(allo)n(wing)0 2374 y(Glyphs)f(to)g(be)h(added)e(when)g(needed)g(to)i
(an)f(e)o(xisting)g(Glyph-)0 2474 y(Set.)h(No)17 b(information)e(\003o)
n(ws)j(from)e(the)i(X)g(serv)o(er)e(to)i(the)g(client)0
2574 y(when)25 b(adding)f(ne)n(w)h(Glyphs)g(which)f(mak)o(es)i(the)f
(process)g(en-)0 2673 y(tirely)c(asynchronous.)k(This)c(asychron)o(y)e
(permits)i(reasonable)0 2773 y(performance)c(e)n(v)o(en)i(in)i(the)f(f)
o(ace)g(of)g(high)f(netw)o(ork)g(latenc)o(y)-5 b(.)0
2972 y(As)23 b(applications)e(transmit)h(images)g(of)g(each)g(glyph)f
(the)o(y)g(dis-)0 3072 y(play)-5 b(,)23 b(the)g(X)h(serv)o(er)f
(conserv)o(es)e(memory)h(by)h(sharing)f(identi-)0 3171
y(cal)f(glyphs)e(where)n(v)o(er)f(possible.)0 3597 y
Fh(3)99 b(Fr)n(eeT)-7 b(ype)27 b(Library)0 3906 y Fg(The)h(FreeT)-7
b(ype)26 b(project)h(w)o(as)i(originally)d(formed)h(to)h(b)n(uild)f(a)0
4005 y(freely)e(a)n(v)n(ailable)h(rasterizer)f(for)g(T)m(rueT)-7
b(ype)24 b(fonts.)42 b(The)26 b(\002rst)0 4105 y(v)o(ersion)d(of)i(the)
g(FreeT)-7 b(ype)23 b(library)h(pro)o(vided)e(a)j(high-quality)0
4204 y(T)m(rueT)-7 b(ype)33 b(rasterizer)i(essentially)g(matching)f(e)o
(xisting)g(sys-)0 4304 y(tems.)0 4503 y(The)25 b(second)f(v)o(ersion)g
(of)h(the)g(FreeT)-7 b(ype)24 b(library)h(generalizes)0
4603 y(the)18 b(rasterizer)f(internals)g(to)h(pro)o(vide)e(support)h
(for)g(man)o(y)f(more)0 4703 y(formats\227T)-7 b(ype-1,)35
b(OpenT)-7 b(ype)33 b(and)h(CID)h(outline)e(formats)0
4802 y(are)h(no)n(w)g(supported)f(along)g(with)i(the)g(current)e
(standard)g(X)0 4902 y(\223Portable)19 b(Compiled)h(F)o(ormat\224)f
(used)h(for)f(bitmap)h(fonts.)0 5101 y(FreeT)-7 b(ype)16
b(pro)o(vides)g(interf)o(aces)h(for)f(measuring)g(and)h(rasteriz-)0
5201 y(ing)g(glyphs)f(as)h(well)h(as)g(mechanisms)e(to)h(access)h
(tables)f(within)0 5300 y(the)g(font)g(\002le)h(for)f(k)o(erning)e(and)
i(glyph)f(substitution)h(of)g(v)n(arious)0 5400 y(forms.)37
b(This)25 b(pro)o(vides)e(applications)g(with)i(the)f(data)h(needed)
2010 83 y(to)c(position)f(glyphs)g(for)g(a)i(v)n(ariety)e(of)g
(locales,)h(as)h(long)e(as)i(the)2010 183 y(underlying)17
b(font)j(includes)f(the)i(necessary)e(tables.)2010 382
y(As)39 b(the)f(FreeT)-7 b(ype)38 b(project)f(w)o(as)i(clearly)f(b)n
(uilding)f(a)h(gen-)2010 482 y(eral)22 b(font)g(library)-5
b(,)21 b(the)h(b)n(urden)f(of)h(de)n(v)o(eloping)d(a)k(ne)n(w)f
(library)2010 581 y(within)30 b(XFree86)e(w)o(as)j(signi\002cantly)e
(reduced)f(by)h(adopting)2010 681 y(this)24 b(e)o(xisting)e(system)h
(and)f(pro)o(viding)f(\223glue)h(code\224)g(to)h(adapt)2010
780 y(the)18 b(FreeT)-7 b(ype)17 b(data)g(structures)g(to)h(those)g
(needed)e(by)i(the)g(Ren-)2010 880 y(der)i(e)o(xtension.)25
b(This)c(does)f(e)o(xpose)f(applications)h(to)h(changes)2010
980 y(in)37 b(the)f(FreeT)-7 b(ype)36 b(library)-5 b(,)39
b(b)n(ut)d(as)h(FreeT)-7 b(ype)36 b(is)h(a)g(mature)2010
1079 y(project,)32 b(such)e(changes)f(are)h(lik)o(ely)g(to)h(be)f(less)
h(se)n(v)o(ere)f(than)2010 1179 y(w)o(ould)f(be)g(required)f(from)g(an)
o(y)h(ne)n(w)g(library)f(de)n(v)o(eloped)f(by)2010 1279
y(XFree86.)2010 1478 y(F)o(ont)38 b(naming)g(and)g(con\002guration)e
(are)i(not)h(a)g(part)f(of)h(the)2010 1577 y(FreeT)-7
b(ype)22 b(library)-5 b(.)32 b(This)23 b(particular)f(chore)g(is)i
(left)g(to)f(the)g(ap-)2010 1677 y(plication.)47 b(As)29
b(FreeT)-7 b(ype)27 b(is)i(used)f(in)g(man)o(y)f(en)m(vironments,)2010
1777 y(some)19 b(of)g(which)g(don')o(t)f(e)n(v)o(en)h(ha)n(v)o(e)g(a)h
(\002le)g(system,)f(this)h(design)2010 1876 y(serv)o(es)30
b(to)g(ensure)f(that)h(FreeT)-7 b(ype)30 b(remains)f(free)h(of)f
(system)2010 1976 y(polic)o(y)21 b(while)g(pro)o(viding)e(for)i(the)h
(widest)g(possible)f(use.)30 b(Pro-)2010 2076 y(viding)23
b(such)h(support)e(turned)h(out)h(to)g(be)g(the)g(hardest)f(part)h(of)
2010 2175 y(Xft,)17 b(and)f(the)h(part)f(which)g(will)i(lik)o(ely)e(be)
g(replaced)g(in)h(the)f(near)2010 2275 y(future.)2010
2700 y Fh(4)99 b(XLFD)26 b(F)n(ont)e(Naming)2010 3009
y Fg(The)j(core)f(protocol)f(pro)o(vides)g(for)h(unstructured)f(string)
h(font)2010 3109 y(names.)71 b(While)37 b(font)e(listing)h(speci\002es)
g(that)g(`?')72 b(and)35 b(`*')2010 3208 y(beha)n(v)o(e)44
b(as)j(the)e(do)g(in)h(the)g(shell,)52 b(font)45 b(opening)f(places)
2010 3308 y(no)c(speci\002c)h(meaning)e(on)h(them.)85
b(The)40 b(X)h(Logical)f(F)o(ont)2010 3407 y(Description[SG92)m(])19
b(\(XLFD\))g(w)o(as)h(designed)e(to)h(place)g(some)2010
3507 y(structure)f(on)g(the)h(format)e(of)i(these)f(string)h(names.)24
b(As)19 b(outline)2010 3607 y(fonts)e(for)g(desktop)g(computing)f(w)o
(as)i(a)g(relati)n(v)o(e)f(no)o(v)o(elty)f(when)2010
3706 y(X)21 b(w)o(as)h(de)n(v)o(eloped,)c(the)j(core)f(protocol)f(and)i
(the)g(XLFD)g(were)2010 3806 y(both)e(designed)h(based)f(on)h
(bitmapped)f(fonts.)25 b(The)20 b(semantics)2010 3906
y(and)i(syntax)g(surrounding)e(scalable)j(names)g(w)o(as)g(added)f
(after)2010 4005 y(a)c(signi\002cant)g(period)e(of)i(XLFD-based)f(de)n
(v)o(elopment)e(had)i(al-)2010 4105 y(ready)i(occurred.)2010
4304 y(The)32 b(intent)g(of)g(the)h(font)e(name)h(syntax)g(in)h(the)f
(XLFD)h(w)o(as)2010 4404 y(to)26 b(pro)o(vide)d(applications)i(suf)n
(\002cient)g(information)e(about)i(the)2010 4503 y(font)g(from)f(the)i
(name)f(alone)g(permitting)f(font)h(selection)g(and)2010
4603 y(font)e(list)h(presentation)e(to)i(be)f(performed)e(without)h
(reference)2010 4703 y(to)e(the)h(underlying)c(font)j(data)g(itself.)
2010 4902 y(The)29 b(XLFD)h(also)f(pro)o(vide)f(a)h(standard)g(polic)o
(y)f(for)h(opening)2010 5001 y(fonts)35 b(using)f(names)h(containing)e
(`?')70 b(and)35 b(`*'.)69 b(F)o(or)35 b(such)2010 5101
y(names,)25 b(the)f(font)g(selected)g(is)h(that)f(which)g(w)o(ould)g
(ha)n(v)o(e)f(been)2010 5201 y(returned)f(\002rst)j(in)f(response)f(to)
h(a)h(request)e(to)h(list)h(fonts)f(using)2010 5300 y(the)c(same)h
(pattern.)j(Unfortunately)-5 b(,)17 b(this)k(doesn')o(t)e(ensure)g
(that)2010 5400 y(`*')h(is)i(a)f(reasonable)f(def)o(ault)g(v)n(alue)g
(as)i(the)f(serv)o(er)f(k)o(eeps)g(font)p eop
%%Page: 3 3
3 2 bop 0 83 a Fg(names)17 b(internally)e(sorted)i(within)f(each)h
(font)f(directory)g(for)g(ef-)0 183 y(\002cient)24 b(searching.)36
b(F)o(or)24 b(e)o(xample,)g(when)g(attempting)f(to)h(use)0
282 y(`*')g(for)h(the)g(font)f(weight)h(the)g(serv)o(er)f(will)i(list)g
(`bold')e(before)0 382 y(`normal'.)0 581 y(Where)30 b(this)i(polic)o(y)
d(really)i(f)o(ailed)f(w)o(as)h(in)g(the)g(mapping)e(of)0
681 y(point)j(sizes)i(to)g(pix)o(el)e(sizes.)65 b(XLFD)33
b(pro)o(vides)f(pix)o(el)g(size,)0 780 y(point)24 b(size)h(and)e
(resolution)h(in)g(both)g(ax)o(es)g(in)g(the)h(font)e(name.)0
880 y(The)c(standard)f(X)i(fonts)f(are)g(se)o(gre)o(gated)e(by)i
(resolution,)f(sepa-)0 980 y(rate)e(`75dpi')f(and)g(`100dpi')f
(directories)h(contain)g(fonts)h(at)h(v)n(ar)n(-)0 1079
y(ious)24 b(point)f(sizes)i(for)e(those)h(resolutions.)35
b(Additional)22 b(direc-)0 1179 y(tories)d(of)g(fonts)f(are)h
(generally)f(rasterized)g(for)g(75dpi)g(screens.)0 1378
y(The)e(protocol)e(directs)h(the)h(X)h(serv)o(er)e(to)h(search)f(the)h
(font)f(direc-)0 1478 y(tories)h(in)h(the)f(order)f(presented)g(by)g
(the)i(font)e(path.)23 b(This)17 b(mak)o(es)0 1577 y(the)j(font)f(path)
g(dictate)h(which)f(resolution)g(is)h(preferred.)j(If)d(the)0
1677 y(100dpi)30 b(directory)g(is)j(listed)f(\002rst,)j(applications)c
(specifying)0 1777 y(`*')23 b(for)f(the)h(resolution)f(\002elds)i(will)
g(use)f(100dpi)e(fonts)i(where)0 1876 y(the)o(y)c(e)o(xist)i(and)e
(75dpi)g(fonts)h(otherwise.)0 2076 y(Applications)33
b(specifying)g(only)h(point)g(size)h(and)f(using)g(`*')0
2175 y(for)24 b(resolution)e(end)i(up)g(with)g(a)h(collection)e(of)h
(random)e(sized)0 2275 y(fonts\227those)j(found)f(in)j(the)f(100dpi)e
(directory)h(will)h(be)h(ras-)0 2374 y(terized)h(for)g(a)g(100dpi)f
(screen,)j(the)e(remainder)f(of)h(the)g(fonts)0 2474
y(are)j(generally)e(rasterized)h(for)g(a)i(75dpi)d(screen)h(and)h
(appear)0 2574 y(smaller)20 b(as)h(a)g(result.)0 2773
y(The)32 b(end)f(result)h(is)h(that)f(XLFD)g(font)f(matching)f(is)j
(fraught)0 2873 y(with)22 b(peril;)h(applications)e(attempting)f(it)j
(often)e(resort)h(to)g(list-)0 2972 y(ing)33 b(a)n(v)n(ailable)f(fonts)
h(and)g(then)f(presenting)g(fully)g(quali\002ed)0 3072
y(XLFD)21 b(names)e(back)h(to)g(the)g(serv)o(er)-5 b(.)0
3271 y(One)25 b(further)f(issue)i(with)g(the)f(XLFD)h(is)g(that)g(it)g
(includes)f(the)0 3371 y(a)n(v)o(erage)17 b(width)h(of)g(the)h(glyphs)e
(as)i(a)g(part)f(of)g(the)g(name.)24 b(While)0 3470 y(this)g(is)h(a)f
(useful)f(piece)h(of)f(information)e(for)i(applications)g(in-)0
3570 y(terested)15 b(in)h(selecting)f(among)g(v)n(arious)f(setwidths,)j
(and)e(is)h(eas-)0 3670 y(ily)35 b(computed)d(for)i(bitmapped)f(fonts,)
38 b(outline)33 b(fonts)i(can')o(t)0 3769 y(generally)23
b(compute)g(this)j(without)d(rasterizing)h(all)h(glyphs)f(at)0
3869 y(the)j(desired)e(size.)45 b(Simply)26 b(listing)h(the)f(fonts)g
(a)n(v)n(ailable)g(at)h(a)0 3968 y(particular)18 b(size)i(in)m(v)n(olv)
o(es)e(rasterizing)g(e)n(v)o(ery)g(glyph)g(for)h(e)n(v)o(ery)0
4068 y(font.)0 4267 y(XLFD)30 b(pro)o(vides)e(useful)h(information)f
(about)g(the)i(a)n(v)n(ailable)0 4367 y(fonts,)36 b(and)d(e)o(xcept)g
(for)g(the)h(a)n(v)o(erage)e(width)i(\002eld,)j(this)d(in-)0
4467 y(formation)23 b(is)j(easily)f(computed)e(and)h(deli)n(v)o(ered)f
(back)h(to)h(ap-)0 4566 y(plications.)90 b(Applications)41
b(using)g(XLFD)i(names)f(should)0 4666 y(a)n(v)n(oid)23
b(using)g(serv)o(er)n(-side)g(font)g(matching)f(and)h(instead)g(man-)0
4765 y(age)30 b(XLFD)h(names)f(locally)-5 b(,)32 b(generating)d
(appropriate)f(fully)0 4865 y(quali\002ed)d(names)g(using)h
(information)d(gleaned)i(from)f(listing)0 4965 y(the)c(a)n(v)n(ailable)
g(fonts.)0 5164 y(As)i(XLFD)f(names)g(don')o(t)f(pro)o(vide)f(for)h
(reasonable)g(matching)0 5264 y(semantics,)h(a)g(ne)n(w)f(scheme)g(w)o
(as)i(required)d(to)i(permit)f(the)g(un-)0 5363 y(derlying)f(font)i
(system)g(to)g(locate)g(a)h(suitable)f(font)f(gi)n(v)o(en)g(a)i(set)
2010 83 y(of)j(constraints)g(pro)o(vided)f(by)h(the)h(application.)40
b(Such)25 b(a)h(sys-)2010 183 y(tem)19 b(needed)g(to)g(be)g(\003e)o
(xible)g(enough)f(to)h(encompass)f(unimag-)2010 282 y(ined)24
b(ne)n(w)h(font)f(properties)f(while)i(not)f(requiring)f(that)h(appli-)
2010 382 y(cations)c(fully)g(specify)f(e)n(v)o(ery)g(aspect)h(of)g(the)
g(font.)2010 802 y Fh(5)99 b(Designing)25 b(a)g(New)g(Library)2010
1106 y Fg(Xft)31 b(interacts)f(with)h(its)g(en)m(vironment)d(in)i
(three)h(areas;)k(with)2010 1206 y(applications)23 b(through)g(a)i
(programming)c(interf)o(ace,)k(with)g(the)2010 1305 y(system)17
b(through)e(con\002guration)g(\002les)j(and)e(with)h(users)h(as)f(the)o
(y)2010 1405 y(pro)o(vide)33 b(font)h(names.)68 b(While)36
b(these)f(three)f(areas)h(interact)2010 1504 y(within)e(the)g(library)
-5 b(,)35 b(the)o(y)d(are)i(separable)e(from)g(the)h(design)2010
1604 y(perspecti)n(v)o(e.)2010 1908 y Ff(5.1)92 b(A)n(pplication)23
b(Interface)i(Design)2010 2212 y Fg(The)18 b(primary)f(goal)h(of)g(Xft)
h(w)o(as)h(to)e(connect)f(the)i(output)e(of)i(the)2010
2312 y(FreeT)-7 b(ype)31 b(rasterizer)h(with)g(the)h(Render)e(e)o
(xtension.)60 b(Ho)n(w-)2010 2411 y(e)n(v)o(er)m(,)29
b(to)g(gain)f(some)g(acceptance)g(of)g(Xft)h(as)g(a)g(replacement)2010
2511 y(for)h(the)h(e)o(xisting)g(Xlib)g(te)o(xt)g(output)e(routines,)k
(a)e(secondary)2010 2610 y(goal)23 b(w)o(as)i(to)f(also)g(support)e
(core)i(X)g(fonts,)g(albeit)g(with)g(some)2010 2710 y(compromise)18
b(on)i(application)f(functionality)-5 b(.)2010 2909 y(Because)27
b(FreeT)-7 b(ype)26 b(doesn')o(t)f(pro)o(vide)g(for)h(font)g
(selection,)i(a)2010 3009 y(portion)20 b(of)g(Xft)i(pro)o(vides)d(for)i
(font)f(matching.)26 b(Adopting)20 b(the)2010 3109 y(e)o(xisting)i
(XLFD)h(mechanism)f(w)o(ould)g(ha)n(v)o(e)g(signi\002cantly)g(re-)2010
3208 y(stricted)31 b(the)f(capabilities)h(for)f(font)g(matching,)i(so)f
(Xft)g(pro-)2010 3308 y(vides)h(a)g(ne)n(w)f(format.)59
b(This)32 b(selection)g(mechanism)e(is)j(de-)2010 3407
y(signed)21 b(to)h(al)o(w)o(ays)g(match)f(some)g(font;)h(this)g
(permits)g(applica-)2010 3507 y(tions)17 b(to)h(assume)f(that)g
(suitable)g(fonts)g(e)o(xist)g(and)g(a)n(v)n(oid)g(requir)n(-)2010
3607 y(ing)j(e)o(xtensi)n(v)o(e)f(f)o(allback)g(mechanisms)g(at)i(e)n
(v)o(ery)e(le)n(v)o(el.)2010 3806 y(Another)25 b(requirement)f(is)j
(that)f(the)g(library)g(pro)o(vide)e(reason-)2010 3906
y(able)31 b(matches,)i(such)e(as)h(substituting)f(oblique)e(fonts)i
(when)2010 4005 y(italic)22 b(is)h(requested)d(and)h(using)g(medium)f
(weight)h(fonts)g(when)2010 4105 y(no)38 b(weight)h(is)g(speci\002ed.)
81 b(This)38 b(permits)h(applications)e(to)2010 4204
y(specify)23 b(fonts)h(without)f(all)i(of)f(their)f(characteristics)h
(and)f(e)o(x-)2010 4304 y(pect)k(reasonable)e(results.)46
b(In)27 b(cases)h(where)e(the)h(application)2010 4404
y(request)g(contains)g(con\003icting)g(requirements,)g(polic)o(y)g
(about)2010 4503 y(which)c(characteristics)g(are)h(most)g(important)e
(pro)o(vides)g(reso-)2010 4603 y(lution.)2010 4802 y(T)-7
b(o)20 b(simplify)f(te)o(xt)g(encoding)e(options)i(at)h(the)g(library)e
(le)n(v)o(el,)h(all)2010 4902 y(te)o(xt)25 b(output)e(routines)h
(accept)h(only)f(Unicode-encoded)d(data.)2010 5001 y(Other)f(encodings)
f(are)h(con)m(v)o(erted)e(by)i(the)g(application,)f(either)2010
5101 y(at)d(the)g(boundary)c(with)k(the)f(operating)f(system)i(or)f
(between)g(the)2010 5201 y(application)20 b(and)g(Xft.)28
b(As)22 b(e)o(xisting)e(fonts)h(generally)f(pro)o(vide)2010
5300 y(a)e(Unicode)e(encoding,)g(or)h(one)g(easily)h(con)m(v)o(erted)c
(to)k(Unicode,)2010 5400 y(this)32 b(dramatically)e(simpli\002es)h(the)
h(internals)e(of)h(the)h(library)p eop
%%Page: 4 4
4 3 bop 0 83 a Fg(while)20 b(e)o(xposing)f(a)h(consistent)g(vie)n(w)g
(to)g(the)h(application.)0 282 y(Another)29 b(important)g(goal)g(w)o
(as)i(to)g(minimize)e(the)i(e)o(xposure)0 382 y(of)18
b(internal)f(data)h(structures)g(to)g(applications.)23
b(As)c(the)f(Render)0 482 y(e)o(xtension)c(permits)h(incremental)f(do)n
(wnloads)g(of)h(ne)n(w)h(glyphs,)0 581 y(Xft)j(is)h(designed)e(to)h
(rasterize)f(ne)n(w)h(glyphs)f(on)g(demand.)23 b(This)0
681 y(requires)33 b(that)i(metric)f(information)e(be)i(requested)f
(through)0 780 y(a)g(function)e(rather)g(than)h(directly)g(accessed)h
(from)e(the)i(data)0 880 y(structures)20 b(as)g(is)i(done)d(in)h(Xlib)m
(.)0 1079 y(Finally)-5 b(,)21 b(as)g(Xft)h(is)g(not)e(designed)g(as)i
(a)g(complete)e(font)g(access)0 1179 y(library)-5 b(,)22
b(the)h(underlying)d(FreeT)-7 b(ype)22 b(data)h(types)f(are)h(e)o
(xposed)0 1279 y(for)15 b(applications)g(to)h(use)g(directly)f(with)h
(FreeT)-7 b(ype)15 b(itself.)24 b(This)0 1378 y(reduces)19
b(the)g(comple)o(xity)f(of)h(Xft)h(while)g(still)h(allo)n(wing)d
(appli-)0 1478 y(cations)i(full)g(access)h(to)f(the)g(a)n(v)n(ailable)g
(font)g(information.)0 1845 y Ff(5.2)92 b(F)n(ont)22
b(Naming)h(Design)0 2212 y Fg(The)d(design)g(of)g(font)f(names)h(for)g
(Xft)h(started)f(with)g(the)h(notion)0 2312 y(that)29
b(font)g(names)f(represent)g(properties)g(of)h(the)g(font,)h(either)0
2411 y(properties)g(desired)h(by)f(an)i(application)d(or)i(properties)f
(pre-)0 2511 y(sented)24 b(by)g(the)g(font)g(itself.)38
b(As)25 b(the)f(requirements)f(of)h(an)g(ap-)0 2610 y(plication)29
b(are)h(not)f(\002x)o(ed,)i(and)e(the)h(characteristics)f(of)h(fonts)0
2710 y(continue)22 b(to)i(be)g(enhanced,)e(an)i(idea)f(emer)o(ged)f(of)
h(represent-)0 2810 y(ing)j(a)g(font)g(name)f(as)i(a)f(v)n(ariable)f
(list)i(of)f(name/v)n(alues)f(pairs.)0 2909 y(As)32 b(a)g(\002nal)g
(enhancement,)g(one)f(or)g(more)g(v)n(alues)g(could)g(be)0
3009 y(associated)24 b(with)h(each)f(name)g(so)g(that)h(an)f
(application)f(might)0 3109 y(place)g(speci\002c)h(requests)f(along)f
(with)i(more)e(general)h(charac-)0 3208 y(teristics)29
b(\(e.g.)50 b(requesting)27 b(the)h(`T)m(imes')g(f)o(ace,)j(f)o(ailing)
d(that,)0 3308 y(an)o(y)19 b(font)h(with)g(serifs.\))0
3507 y(This)36 b(uni\002es)g(the)g(representation)e(of)h(application)g
(font)g(re-)0 3607 y(quests)f(and)f(a)n(v)n(ailable)h(fonts.)66
b(An)34 b(\223XftP)o(attern\224)f(is)i(a)f(col-)0 3706
y(lection)g(of)h(named)f(properties;)41 b(each)34 b(property)f(holds)h
(one)0 3806 y(or)27 b(more)g(v)n(alues.)47 b(Each)27
b(a)n(v)n(ailable)g(font)g(is)h(described)e(as)j(an)0
3906 y(XftP)o(attern)c(pro)o(viding)f(characteristics)h(of)h(the)g
(font.)42 b(Appli-)0 4005 y(cations)29 b(b)n(uild)f(XftP)o(atterns)h
(describing)e(their)i(requirements)0 4105 y(which)44
b(are)g(then)f(matched)g(against)g(the)h(XftP)o(atterns)g(de-)0
4204 y(scribing)32 b(all)h(of)g(the)g(a)n(v)n(ailable)f(fonts.)62
b(The)33 b(a)n(v)n(ailable)f(font)0 4304 y(most)15 b(closely)h
(matching)e(the)h(application)f(speci\002cation)h(is)h(se-)0
4404 y(lected.)48 b(This)28 b(mechanism)f(ensures)g(that)h(e)n(v)o(ery)
f(application)0 4503 y(font)20 b(request)f(will)i(be)f(matched)f(by)h
(a)h(font.)0 4703 y(Finally)-5 b(,)24 b(a)g(te)o(xtual)e
(representation)g(for)h(XftP)o(atterns)g(w)o(as)h(de-)0
4802 y(signed.)g(This)19 b(permits)f(applications)g(to)h(be)g
(con\002gured)e(much)0 4902 y(as)k(the)o(y)e(are)i(today)e(by)h(using)f
(a)i(string)f(to)g(select)h(a)f(font.)0 5101 y(XftP)o(atterns)i(pro)o
(vide)f(a)i(simple)f(and)g(e)o(xtensible)g(mechanism)0
5201 y(for)41 b(communicating)d(requirements)h(and)i(capabilities)g
(be-)0 5300 y(tween)32 b(the)g(application)f(and)g(the)i(fonts)e(it)i
(uses.)62 b(The)o(y)31 b(are)0 5400 y(discussed)20 b(in)g(additional)f
(detail)h(in)h(Section)f(6.)2010 83 y Ff(5.3)92 b(F)n(ont)22
b(Listing)h(Design)2010 394 y Fg(The)f(core)h(protocol)e(pro)o(vides)f
(primiti)n(v)o(e)i(support)f(for)h(query-)2010 494 y(ing)d(the)g(set)g
(of)g(a)n(v)n(ailable)f(fonts;)h(a)h(simple)f(shell-style)f(pattern)
2010 593 y(is)f(passed)e(to)h(the)g(X)h(serv)o(er)e(and)g(the)h(set)g
(of)g(font)f(names)g(match-)2010 693 y(ing)h(that)h(pattern)e(is)i
(returned.)22 b(F)o(or)16 b(applications)g(interested)f(in)2010
793 y(disco)o(v)o(ering)22 b(the)i(set)h(of)e(a)n(v)n(ailable)h(font)f
(f)o(amilies,)j(the)e(list)h(of)2010 892 y(returned)20
b(fonts)i(includes)g(essentially)g(all)g(of)g(the)g(fonts)g(in)h(the)
2010 992 y(system;)j(the)e(application)e(is)j(responsible)e(for)g(e)o
(xtracting)g(the)2010 1092 y(needed)c(information)f(from)h(this)i(mass)
f(of)g(data.)2010 1291 y(What)f(w)o(as)f(needed,)f(instead,)h(w)o(as)h
(the)g(ability)e(to)i(ask)f(the)g(sys-)2010 1390 y(tem)24
b(for)f(speci\002c)i(rele)n(v)n(ant)d(information)g(and)h(to)h(ha)n(v)o
(e)g(it)g(dis-)2010 1490 y(card)i(redundant)f(data.)45
b(Applications)26 b(could)g(then)h(focus)f(on)2010 1590
y(e)o(xamining)14 b(and)i(manipulating)e(the)i(information,)f(rather)g
(than)2010 1689 y(e)o(xpend)j(signi\002cant)i(ef)n(fort)f(parsing)g
(XLFD)i(strings.)2010 1889 y(Xft)32 b(splits)h(the)f(data)g(needed)e
(to)i(return)f(information)f(about)2010 1988 y(a)n(v)n(ailable)j(fonts)
g(into)g(tw)o(o)g(pieces.)65 b(The)32 b(\002rst)j(is)f(a)f(pattern)2010
2088 y(which)17 b(is)h(used)g(to)f(select)h(from)f(the)g(a)n(v)n
(ailable)h(fonts.)23 b(The)17 b(sec-)2010 2187 y(ond)e(is)j(a)f(set)g
(of)f(property)e(names)i(used)g(to)h(determine)d(what)j(in-)2010
2287 y(formation)j(the)h(application)f(is)j(interested)e(in)g(recei)n
(ving.)28 b(The)2010 2387 y(list)17 b(of)f(matching)f(fonts)g(w)o(ould)
h(be)g(pared)f(to)h(eliminate)g(entries)2010 2486 y(with)k(duplicate)f
(v)n(alues)h(in)h(the)f(selected)g(properties.)2010 2686
y(Finally)-5 b(,)31 b(the)f(notion)e(of)h(\223best)h(match\224)f(isn')o
(t)g(useful)g(in)h(list-)2010 2785 y(ing)24 b(fonts;)i(applications)d
(use)h(font)f(lists)j(to)e(generate)f(dialogs)2010 2885
y(for)33 b(the)h(user)f(or)g(to)h(disco)o(v)o(er)e(capabilities)h(of)h
(a)g(f)o(amily)f(of)2010 2984 y(fonts.)60 b(Instead)32
b(of)f(measuring)g(the)h(distance)g(from)f(the)h(re-)2010
3084 y(quested)23 b(pattern)f(to)i(the)f(a)n(v)n(ailable)g(fonts,)h(an)
f(e)o(xact)g(match)g(is)2010 3184 y(required)18 b(for)i(all)h(elements)
f(of)g(the)g(pattern.)2010 3495 y Ff(5.4)92 b(Con\002guration)23
b(Design)2010 3806 y Fg(T)-7 b(o)24 b(a)n(v)n(oid)f(the)g(possible)g
(proliferation)f(of)h(incompatible)e(font)2010 3906 y(con\002guration)
13 b(and)i(customization)f(mechanisms,)i(a)g(standard)2010
4005 y(w)o(as)35 b(needed.)64 b(As)35 b(no)f(e)o(xisting)f(standard)f
(e)o(xisted,)37 b(adding)2010 4105 y(con\002guration)20
b(to)j(Xft)g(at)g(least)g(ensured)f(that)h(X)g(applications)2010
4204 y(could)c(share)h(fonts)g(and)g(name)f(them)h(in)g(the)h(same)f(w)
o(ay)-5 b(.)2010 4404 y(An)26 b(essential)g(customization)e
(requirement)f(is)k(to)f(allo)n(w)f(one)2010 4503 y(font)e(to)g
(stand-in)f(for)h(another)-5 b(.)33 b(These)24 b(\223aliases\224)f
(help)g(main-)2010 4603 y(tain)34 b(the)g(general)f(appearance)f(of)h
(te)o(xt)h(by)g(selecting)f(f)o(aces)2010 4703 y(with)i(similar)f
(characteristics)g(to)h(una)n(v)n(ailable)e(f)o(aces.)68
b(An-)2010 4802 y(other)20 b(useful)h(role)g(is)h(in)f(supporting)e
(generic)i(`mono',)e(`sans')2010 4902 y(and)d(`serif)5
b(')15 b(f)o(aces)i(which)f(applications)f(can)h(use)g(to)h(follo)n(w)f
(the)2010 5001 y(users)k(preference)e(in)j(each)f(of)f(these)i(common)d
(cases.)2010 5201 y(Another)g(goal)g(w)o(as)i(to)g(mak)o(e)e(adding)g
(fonts)h(as)h(easy)f(as)h(possi-)2010 5300 y(ble.)36
b(The)23 b(core)g(X)i(font)e(con\002guration)e(mechanism)h(uses)j(the)
2010 5400 y(X)17 b(serv)o(er)g(font)f(path)g(to)h(list)h(the)f(set)h
(of)f(directories)f(in)h(which)f(to)p eop
%%Page: 5 5
5 4 bop 0 83 a Fg(\002nd)17 b(fonts.)24 b(In)17 b(each)g(of)g(these)g
(directories,)g(tw)o(o)h(separate)e(con-)0 183 y(\002guration)g
(\002les)i(must)g(be)f(generated)f(which)h(map)g(font)g(names)0
282 y(to)h(\002le)g(names.)24 b(If)18 b(these)g(\002les)h(are)e
(missing)h(or)g(corrupted,)d(font)0 382 y(selection)29
b(will)i(not)e(w)o(ork)g(properly)-5 b(.)51 b(By)30 b(eliminating)f
(such)0 482 y(con\002guration)15 b(\002les,)k(the)e(o)o(v)o(erall)f
(system)i(w)o(ould)f(be)g(more)g(ro-)0 581 y(b)n(ust.)0
780 y(Finally)-5 b(,)26 b(users)g(and)f(administrators)f(need)h(to)h
(customize)f(the)0 880 y(rasterization)20 b(of)g(speci\002c)h(fonts.)27
b(Some)21 b(users)g(wish)g(to)g(a)n(v)n(oid)0 980 y(anti-aliased)f(te)o
(xt)g(at)h(a)g(range)f(of)g(sizes,)i(or)e(for)g(speci\002c)h(f)o(aces.)
0 1079 y(Others)d(need)f(to)h(adjust)g(the)f(size)i(or)e(spacing)g(of)h
(certain)f(fonts.)0 1279 y(As)31 b(it)h(turns)e(out,)j(Xft)e(is)g(not)g
(quite)f(the)h(right)f(place)g(for)g(all)0 1378 y(such)20
b(con\002guration\227X)e(applications)i(aren')o(t)f(the)i(only)f(ones)0
1478 y(interested)e(in)g(accessing)g(fonts)g(and)g(font)g(information.)
k(Mo)o(v-)0 1577 y(ing)k(this)h(con\002guration)c(mechanism)i(out)h(of)
g(Xft)g(and)g(into)g(a)0 1677 y(library)f(usable)g(by)g(non-X)g
(applications)f(will)j(be)f(a)g(focus)f(of)0 1777 y(de)n(v)o(elopment)
17 b(in)k(the)f(near)g(future.)0 2202 y Fh(6)99 b(Xft)26
b(F)n(ont)e(Names)0 2511 y Fg(F)o(ont)33 b(names)g(in)h(Xft)f(are)h
(represented)d(as)j(a)g(list)h(of)e(named)0 2610 y(properties,)26
b(each)f(of)h(which)f(carries)h(a)g(list)h(of)e(typed)g(v)n(alues.)0
2710 y(This)k(collection)g(of)f(properties)g(is)i(stored)f(in)g(an)g
(XftP)o(attern)0 2810 y(data)24 b(structure.)37 b(There)23
b(are)h(routines)g(to)g(create)g(XftP)o(atterns,)0 2909
y(edit)j(them)f(and)g(perform)f(matching)g(operations)g(against)i(the)0
3009 y(list)21 b(of)f(a)n(v)n(ailable)f(fonts.)25 b(Xft)20
b(has)g(a)g(list)h(of)f(properties,)e(sho)n(wn)0 3109
y(in)27 b(T)-7 b(able)27 b(1,)i(which)e(it)h(supports)e(internally;)j
(there)e(is)h(no)f(re-)0 3208 y(striction)19 b(that)h(applications)e
(use)i(only)e(these,)i(Xft)g(will)g(ignore)0 3308 y(those)g(it)h
(doesn')o(t)e(understand.)0 3507 y(T)-7 b(o)35 b(permit)e(XftP)o
(atterns)h(to)h(be)f(transmitted)g(and)g(stored,)j(a)0
3607 y(string)22 b(representation)e(e)o(xists)j(which)e(can)i(capture)e
(the)h(struc-)0 3706 y(ture)d(of)h(a)g(pattern.)j(The)d(format)e(of)i
(these)f(strings)h(is)h(sho)n(wn)d(in)0 3806 y(Figure)25
b(1.)43 b(Each)26 b(of)g(the)g(supported)e(names)i(has)h(an)f(implicit)
0 3906 y(type)f(which)f(is)i(used)f(to)g(parse)g(the)g(associated)g(v)n
(alues.)39 b(This)0 4005 y(reduces)14 b(the)i(need)f(for)f(quoting)g
(or)h(other)g(le)o(xical)g(mechanisms)0 4105 y(to)26
b(distinguish)f(amongst)f(the)i(v)n(arious)f(types.)41
b(As)27 b(is)g(sho)n(wn,)0 4204 y(named)h(constants)g(can)g(tak)o(e)h
(the)g(place)f(of)g(either)h(v)n(alues)f(or)0 4304 y(complete)d(name=v)
n(alue)f(pairs.)42 b(As)27 b(the)f(constants)f(uniquely)0
4404 y(determine)33 b(their)h(associated)g(property)f(name,)k(there)d
(is)h(no)0 4503 y(need)26 b(to)i(supply)e(that)h(as)h(well.)47
b(Refer)27 b(to)g(T)-7 b(able)27 b(2)g(for)g(a)g(list)0
4603 y(of)32 b(the)h(a)n(v)n(ailable)f(constants.)61
b(Each)32 b(of)g(these)h(constants)f(is)0 4703 y(represented)25
b(internally)h(by)h(a)h(numeric)d(v)n(alue;)30 b(this)e(permits)0
4802 y(similar)c(matches)f(by)g(comparing)e(the)i(v)n(alue)g(from)f
(the)i(a)n(v)n(ail-)0 4902 y(able)29 b(fonts)f(with)i(the)f(v)n(alue)f
(requested)g(by)g(the)h(application.)0 5001 y(An)c(application)f
(requesting)f(`demibold')g(will)i(select)h(`bold')0 5101
y(instead)i(of)g(`medium'.)48 b(This)28 b(helps)g(ensure)g(that)g(the)h
(intent)0 5201 y(of)h(the)h(application)e(is)i(ful\002lled,)h(e)n(v)o
(en)e(when)g(the)g(a)n(v)n(ailable)0 5300 y(fonts)19
b(don')o(t)f(match)h(those)g(present)g(during)f(de)n(v)o(elopment)e
(and)0 5400 y(testing.)p 2115 204 1650 4 v 2113 304 4
100 v 2165 274 a(Name)251 b(T)-7 b(ype)179 b(C)21 b(Name)p
3763 304 V 2115 307 1650 4 v 2113 407 4 100 v 2165 377
a(f)o(amily)233 b(String)140 b(XFT)p 3121 377 25 4 v
30 w(F)-6 b(AMIL)e(Y)p 3763 407 4 100 v 2113 507 V 2165
477 a(style)293 b(String)140 b(XFT)p 3121 477 25 4 v
30 w(STYLE)p 3763 507 4 100 v 2113 606 V 2165 576 a(slant)293
b(Int)251 b(XFT)p 3121 576 25 4 v 30 w(SLANT)p 3763 606
4 100 v 2113 706 V 2165 676 a(weight)223 b(Int)251 b(XFT)p
3121 676 25 4 v 30 w(WEIGHT)p 3763 706 4 100 v 2113 805
V 2165 776 a(size)321 b(Double)98 b(XFT)p 3121 776 25
4 v 30 w(SIZE)p 3763 805 4 100 v 2113 905 V 2165 875
a(pix)o(elsize)155 b(Double)98 b(XFT)p 3121 875 25 4
v 30 w(PIXEL)p 3387 875 V 29 w(SIZE)p 3763 905 4 100
v 2113 1005 V 2165 975 a(encoding)143 b(String)d(XFT)p
3121 975 25 4 v 30 w(ENCODING)p 3763 1005 4 100 v 2113
1104 V 2165 1074 a(spacing)195 b(Int)251 b(XFT)p 3121
1074 25 4 v 30 w(SP)-8 b(A)m(CING)p 3763 1104 4 100 v
2113 1204 V 2165 1174 a(foundry)184 b(String)140 b(XFT)p
3121 1174 25 4 v 30 w(FOUNDR)-5 b(Y)p 3763 1204 4 100
v 2113 1304 V 2165 1274 a(core)306 b(Bool)182 b(XFT)p
3121 1274 25 4 v 30 w(CORE)p 3763 1304 4 100 v 2113 1403
V 2165 1373 a(antialias)173 b(Bool)182 b(XFT)p 3121 1373
25 4 v 30 w(ANTIALIAS)p 3763 1403 4 100 v 2113 1503 V
2165 1473 a(xlfd)315 b(String)140 b(XFT)p 3121 1473 25
4 v 30 w(XLFD)p 3763 1503 4 100 v 2113 1603 V 2165 1573
a(\002le)344 b(String)140 b(XFT)p 3121 1573 25 4 v 30
w(FILE)p 3763 1603 4 100 v 2113 1702 V 2165 1672 a(inde)o(x)265
b(Int)251 b(XFT)p 3121 1672 25 4 v 30 w(INDEX)p 3763
1702 4 100 v 2113 1802 V 2165 1772 a(rasterizer)140 b(String)g(XFT)p
3121 1772 25 4 v 30 w(RASTERIZER)p 3763 1802 4 100 v
2113 1901 V 2165 1871 a(outline)218 b(Bool)182 b(XFT)p
3121 1871 25 4 v 30 w(OUTLINE)p 3763 1901 4 100 v 2113
2001 V 2165 1971 a(scalable)g(Bool)g(XFT)p 3121 1971
25 4 v 30 w(SCALABLE)p 3763 2001 4 100 v 2113 2101 V
2165 2071 a(r)o(gba)302 b(Int)251 b(XFT)p 3121 2071 25
4 v 30 w(RGB)m(A)p 3763 2101 4 100 v 2113 2200 V 2165
2170 a(scale)284 b(Double)98 b(XFT)p 3121 2170 25 4 v
30 w(SCALE)p 3763 2200 4 100 v 2113 2300 V 2165 2270
a(render)236 b(Bool)182 b(XFT)p 3121 2270 25 4 v 30 w(RENDER)p
3763 2300 4 100 v 2113 2400 V 2165 2370 a(minspace)135
b(Bool)182 b(XFT)p 3121 2370 25 4 v 30 w(MINSP)-8 b(A)m(CE)p
3763 2400 4 100 v 2113 2499 V 2165 2469 a(dpi)343 b(Double)98
b(XFT)p 3121 2469 25 4 v 30 w(DPI)p 3763 2499 4 100 v
2113 2599 V 2165 2569 a(charwidth)116 b(Int)251 b(XFT)p
3121 2569 25 4 v 30 w(CHAR)p 3381 2569 V 30 w(WIDTH)p
3763 2599 4 100 v 2113 2698 V 2165 2669 a(charheight)97
b(Int)251 b(XFT)p 3121 2669 25 4 v 30 w(CHAR)p 3381 2669
V 30 w(HEIGHT)p 3763 2698 4 100 v 2113 2798 V 2165 2768
a(matrix)232 b(Matrix)117 b(XFT)p 3121 2768 25 4 v 30
w(MA)-9 b(TRIX)p 3763 2798 4 100 v 2115 2801 1650 4 v
2353 2949 a(T)i(able)21 b(1:)k(Xft)20 b(F)o(ont)g(Name)g(Properties.)p
2364 3439 1153 4 v 2362 3539 4 100 v 2414 3509 a(Name)154
b(Constant)214 b(V)-9 b(alue)p 3514 3539 V 2364 3542
1153 4 v 2362 3642 4 100 v 2414 3612 a(weight)126 b(light)505
b(0)p 3514 3642 V 2362 3741 V 2767 3711 a(medium)301
b(100)p 3514 3741 V 2362 3841 V 2767 3811 a(demibold)259
b(180)p 3514 3841 V 2362 3941 V 2767 3911 a(bold)426
b(200)p 3514 3941 V 2362 4040 V 2767 4010 a(black)394
b(210)p 3514 4040 V 2364 4044 1153 4 v 2362 4143 4 100
v 2414 4113 a(slant)196 b(roman)444 b(0)p 3514 4143 V
2362 4243 V 2767 4213 a(italic)409 b(100)p 3514 4243
V 2362 4342 V 2767 4313 a(oblique)324 b(110)p 3514 4342
V 2364 4346 1153 4 v 2362 4445 4 100 v 2414 4416 a(spacing)98
b(proportional)244 b(0)p 3514 4445 V 2362 4545 V 2767
4515 a(mono)384 b(100)p 3514 4545 V 2362 4645 V 2767
4615 a(charcell)311 b(110)p 3514 4645 V 2364 4648 1153
4 v 2362 4748 4 100 v 2414 4718 a(r)o(gba)205 b(r)o(gb)547
b(1)p 3514 4748 V 2362 4847 V 2767 4817 a(bgr)f(2)p 3514
4847 V 2362 4947 V 2767 4917 a(vr)o(gb)505 b(3)p 3514
4947 V 2362 5046 V 2767 5017 a(vbgr)f(4)p 3514 5046 V
2364 5050 1153 4 v 2358 5198 a(T)-7 b(able)20 b(2:)26
b(Xft)20 b(F)o(ont)g(Name)g(Constants.)p eop
%%Page: 6 6
6 5 bop 1095 70 a Fe(name)366 b Fg(:)26 b Fe(families)20
b(sizes)i(pr)l(operties)1095 169 y(families)284 b Fg(:)26
b Fe(family-names)1642 269 y Fd(j)1095 369 y Fe(family-names)98
b Fg(:)26 b Fe(family-names)19 b Fc(,)h Fe(string)1642
468 y Fd(j)h Fe(string)1095 568 y(sizes)391 b Fg(:)26
b Fc(-)20 b Fe(size-list)1642 667 y Fd(j)1095 767 y Fe(size-list)294
b Fg(:)26 b Fe(size-list)d Fc(,)d Fe(number)1642 867
y Fd(j)h Fe(number)1095 966 y(pr)l(operties)209 b Fg(:)26
b Fe(pr)l(operties)20 b Fc(:)h Fe(pr)l(operty)1642 1066
y Fd(j)1095 1166 y Fe(pr)l(operty)264 b Fg(:)26 b Fe(string)20
b Fc(=)h Fe(value)1642 1265 y Fd(j)g Fe(named-constant)1095
1365 y(value)366 b Fg(:)26 b Fe(string)1642 1465 y Fd(j)21
b Fe(number)1642 1564 y Fd(j)g Fe(boolean)1642 1664 y
Fd(j)g Fe(named-constant)1642 1763 y Fd(j)g Fe(matrix)1095
1863 y(matrix)330 b Fg(:)26 b Fe(number)21 b(number)g(number)h(number)0
2140 y Fg(Examples:)0 2307 y Fc(times,serif-12:italic)0
2406 y(courier,mono-14:matrix=1)45 b(.1)50 b(0)f(1)1384
2655 y Fg(Figure)20 b(1:)25 b(Xft)c(F)o(ont)e(Name)h(Syntax.)0
2922 y(Additionally)-5 b(,)20 b(while)h(XLFD)i(names)e(are)h(not)f
(ideal,)h(the)o(y)f(are)0 3022 y(common)27 b(in)j(e)o(xisting)e(X)i
(applications)e(and)g(do)h(represent)f(a)0 3122 y(set)k(of)f(desired)f
(font)h(characteristics.)57 b(Xft)32 b(can)e(con)m(v)o(ert)g(an)0
3221 y(XLFD)24 b(name)f(into)h(an)g(XftP)o(attern)f(which)g(can)h(then)
f(be)h(used)0 3321 y(to)f(select)h(a)g(font)e(using)h(Xft)g(matching)f
(rules)h(rather)f(than)h(the)0 3420 y(XLFD)e(matching)d(rules)i
(described)f(in)i(Section)e(4.)0 3620 y(Xft)36 b(font)g(names)g(are)g
(designed)f(to)h(be)g(e)o(xtensible)f(so)h(that)0 3719
y(e)o(xisting)i(applications)g(will)i(continue)d(to)i(to)g(operate)f
(cor)n(-)0 3819 y(rectly)22 b(e)n(v)o(en)f(while)h(the)h(Xft/FreeT)-7
b(ype2)20 b(interf)o(ace)i(continues)0 3919 y(to)c(gro)n(w)f(and)g(pro)
o(vide)f(pattern)h(elements)h(for)f(ne)n(wer)g(systems.)0
4319 y Fh(7)99 b(Xft)26 b(Con\002guration)f(File)0 4603
y Fg(Using)g(the)g(core)g(protocol,)f(all)i(applications)e(are)h
(ensured)f(of)0 4703 y(ha)n(ving)g(access)i(to)g(all)g(of)f(the)g(a)n
(v)n(ailable)g(fonts)g(as)h(it)g(is)h(the)e(X)0 4802
y(serv)o(ers)32 b(responsibility)e(to)i(locate)g(them.)61
b(W)m(ith)32 b(font)f(man-)0 4902 y(agement)e(no)n(w)g(mo)o(ving)f(to)i
(the)g(client)g(side,)j(locating)c(fonts)0 5001 y(becomes)19
b(the)h(responsibility)f(of)h(the)g(application.)k(W)m(ithout)19
b(a)0 5101 y(central)e(shared)g(con\002guration)e(mechanism,)h(the)i
(set)g(of)g(a)n(v)n(ail-)0 5201 y(able)g(fonts)f(for)g(each)h
(application)e(may)i(well)g(be)g(dif)n(ferent.)k(In-)0
5300 y(stalling)17 b(and)g(selecting)g(fonts)g(w)o(ould)f(be)h
(problematic)f(and)h(er)n(-)0 5400 y(ror)j(prone.)2010
2922 y(The)31 b(main)g(job,)i(then,)h(of)d(the)g(Xft)h(con\002guration)
c(\002le)k(is)g(to)2010 3022 y(specify)20 b(the)h(location)f(of)h(a)n
(v)n(ailable)f(font)g(\002les.)28 b(Secondary)19 b(to)2010
3122 y(this)k(is)g(the)f(role)g(of)g(adjusting)f(font)g(selection)h
(and)g(customiz-)2010 3221 y(ing)e(rasterization)f(parameters.)2010
3420 y(By)43 b(def)o(ault,)j(the)c(Xft)h(con\002guration)c(\002le)k
(`XftCon\002g')e(is)2010 3520 y(found)30 b(in)h(/usr/X11R6/lib/X11.)56
b(This)32 b(can)f(be)g(o)o(v)o(erridden)2010 3620 y(by)16
b(specifying)f(an)h(alternate)g(\002lename)g(in)h(the)f(XFT)p
3536 3620 25 4 v 30 w(CONFIG)2010 3719 y(en)m(vironment)h(v)n(ariable.)
2010 3919 y(Comments)26 b(can)h(be)g(placed)f(an)o(ywhere)f(in)i(the)g
(\002le)g(with)h(the)2010 4018 y(`#')c(character)g(and)h(e)o(xtend)e
(to)i(the)g(end)g(of)g(the)g(line.)39 b(The)25 b(re-)2010
4118 y(maining)19 b(syntax)g(will)i(be)f(e)o(xposed)f(in)h(subsequent)f
(sections.)2010 4410 y Ff(7.1)92 b(F)n(ont)22 b(Dir)n(ectories)2010
4703 y Fg(Xft)30 b(tak)o(es)g(a)h(simplistic)f(vie)n(w)g(in)g
(con\002guring)e(where)h(fonts)2010 4802 y(are)f(to)g(be)f(found.)46
b(A)29 b(list)g(of)e(directories)g(are)h(speci\002ed)f(and)2010
4902 y(Xft)j(searches)f(those)g(for)g(font)f(\002les,)33
b(all)c(of)h(the)f(font)g(\002les)h(it)2010 5001 y(\002nds)17
b(are)g(added)e(to)i(the)g(list)h(of)e(a)n(v)n(ailable)h(fonts)f(for)g
(matching.)2010 5101 y(The)j(order)f(within)h(the)h(directories)e(is)i
(irrele)n(v)n(ant;)f(Xft)g(al)o(w)o(ays)2010 5201 y(searches)24
b(for)h(the)f(best)h(match)f(among)g(all)h(of)f(the)h(fonts.)38
b(Di-)2010 5300 y(rectories)19 b(are)g(speci\002ed)g(in)g(the)h
(con\002g)e(\002le)i(with)f(a)h(line)g(of)f(the)2010
5400 y(form:)p eop
%%Page: 7 7
7 6 bop 166 83 a Fc(dir)49 b("/usr/X11R6/lib/X11/fonts/Type1")0
316 y Fg(No)18 b(special)h(con\002guration)c(of)j(the)h(directory)d(is)
k(required,)c(Xft)0 416 y(scans)21 b(the)f(directory)e(looking)h(for)g
(font)h(\002les)h(automatically)-5 b(.)0 698 y Ff(7.2)92
b(Nested)23 b(Con\002guration)g(Files)0 981 y Fg(T)-7
b(o)19 b(split)g(the)f(con\002guration)e(\002le)k(into)e(manageable)f
(parts,)h(and)0 1081 y(to)f(allo)n(w)h(for)e(per)n(-user)g
(customization)g(of)h(the)g(library)-5 b(,)16 b(the)h(Xft)0
1180 y(con\002guration)h(\002le)i(allo)n(ws)h(for)e(lines)i(of)f(the)g
(form:)166 1414 y Fc(include)49 b("/usr/local/lib/XftAliases")166
1613 y(includeif)f("\230/.xftconfig")0 1846 y Fg(The)24
b(only)g(dif)n(ference)f(is)j(that)e(the)h(\002rst)h(form)d(will)j
(cause)e(Xft)0 1946 y(to)j(emit)f(a)h(w)o(arning)f(message)g(when)g
(the)h(referred)d(\002le)k(can')o(t)0 2045 y(be)i(found.)51
b(The)29 b(`)p Fc(\230)p Fg(')h(character)e(refers)h(to)h(the)g(user')
-5 b(s)30 b(home)0 2145 y(directory;)f(as)e(the)g(Xft)g
(con\002guration)e(\002le)i(is)h(parsed)e(by)h(the)0
2244 y(user')-5 b(s)16 b(applications)f(themselv)o(es,)g(this)i
(permits)e(per)n(-user)g(cus-)0 2344 y(tomization)k(without)g
(referring)g(to)h(the)g(X)h(display)-5 b(.)0 2627 y Ff(7.3)92
b(F)n(ont)22 b(P)o(atter)o(n)h(Editing)0 2909 y Fg(T)-7
b(o)31 b(pro)o(vide)d(for)i(font)f(substitution)h(and)g(other)f
(adjustments)0 3009 y(in)20 b(the)g(font)f(matching)f(process)i(along)f
(with)g(allo)n(wing)g(for)h(the)0 3109 y(con\002guration)14
b(of)i(the)g(rasterization)f(process,)i(the)f(Xft)h(con\002g-)0
3208 y(uration)e(\002le)h(can)g(contain)e(operations)g(which)i(modify)e
(the)i(Xft-)0 3308 y(P)o(attern)23 b(before)g(the)h(matching)e(process)
i(is)h(done.)35 b(These)23 b(op-)0 3407 y(erations)i(are)h(called)g
(\223editing)f(commands\224)g(and)g(operate)g(by)0 3507
y(matching)g(the)h(incoming)f(pattern)h(and)g(modifying)e(it.)44
b(Each)0 3607 y(command)20 b(is)k(e)o(x)o(ecuted)c(in)j(the)f(order)g
(it)h(appears)e(in)i(the)f(con-)0 3706 y(\002guration)e(\002le.)31
b(The)22 b(syntax)f(for)g(these)h(commands)e(is)j(found)0
3806 y(in)d(Figure)g(2.)0 4005 y(The)g(match)g(clauses)h(select)g
(which)f(patterns)f(are)i(selected)f(for)0 4105 y(editing;)36
b(all)31 b(must)h(be)f(true)f(for)h(the)g(edit)g(to)g(be)g(performed.)0
4204 y(Matches)d(pre\002x)o(ed)f(with)h(`an)o(y')f(are)h(true)g(if)h
(an)o(y)f(of)g(the)g(v)n(al-)0 4304 y(ues)17 b(associated)f(with)h(the)
g(named)e(\002eld)i(satisfy)g(the)g(condition.)0 4404
y(Matches)j(pre\002x)o(ed)f(with)i(`all')f(are)h(true)f(only)f(when)h
(all)h(of)g(the)0 4503 y(v)n(alues)f(satisfy)g(the)h(condition.)0
4703 y(The)i(edit)g(clauses)g(operate)f(on)h(the)g(\002elds)h(of)f(the)
g(pattern)f(and)0 4802 y(can)g(either)f(replace)h(or)f(amend)g(the)h(v)
n(alues)g(found)e(for)h(the)h(as-)0 4902 y(sociated)k(\002eld.)43
b(If)26 b(the)g(match)f(clause)h(contains)g(a)g(reference)0
5001 y(to)19 b(the)g(same)g(element)f(of)h(the)g(pattern,)f(the)h
(matching)e(v)n(alue)i(is)0 5101 y(mark)o(ed.)0 5300
y(Edits)26 b(using)e(the)i(`+=')e(operator)g(will)i(insert)f(their)g(v)
n(alue)g(be-)0 5400 y(fore)17 b(the)h(mark)o(ed)e(v)n(alue.)24
b(Edits)18 b(using)f(the)h(`=+')f(operator)f(will)2010
83 y(insert)33 b(their)f(v)n(alue)g(after)g(the)h(mark)o(ed)e(v)n
(alue.)61 b(Edits)33 b(using)2010 183 y(the)20 b(`=')f(operator)f(will)
j(replace)e(the)h(mark)o(ed)f(v)n(alue)g(with)h(their)2010
282 y(v)n(alue.)43 b(If)27 b(no)f(v)n(alue)f(is)j(mark)o(ed,)e(the)h
(`+=')f(and)g(`=+')g(opera-)2010 382 y(tors)e(prepend/append)c(their)k
(associated)g(v)n(alue)f(to)i(the)f(list)h(of)2010 482
y(v)n(alues)19 b(while)g(the)g(`=')g(operator)f(replaces)h(all)g(e)o
(xisting)g(v)n(alues)2010 581 y(with)h(its)i(associated)e(v)n(alue.)
2010 780 y(The)k(operators)f(within)i(the)f(e)o(xpressions)g(operate)f
(in)i(the)f(ob-)2010 880 y(vious)c(manner)m(,)e(one)i(possibly)g(une)o
(xpected)e(operation)g(is)j(that)2010 980 y(the)f(`+')g(operator)e(can)
i(operate)f(on)g(strings)i(and)e(will)i(concate-)2010
1079 y(nate)33 b(them.)64 b(Fields)34 b(within)f(the)g(font)g(may)g(be)
g(referred)e(to)2010 1179 y(within)23 b(an)h(e)o(xpression;)f(the)h
(\002rst)g(v)n(alue)f(associated)g(with)h(the)2010 1279
y(\002eld)c(is)h(used.)2010 1478 y(After)16 b(using)f(this)i(mechanism)
e(for)g(se)n(v)o(eral)g(months,)h(it)h(has)f(be-)2010
1577 y(come)24 b(clear)h(that)g(it)g(is)h(v)o(ery)d(comple)o(x)g(and)i
(yet)f(incapable)g(of)2010 1677 y(performing)13 b(e)o(xpected)h(tasks.)
25 b(One)15 b(de\002cienc)o(y)g(is)i(that)f(the)g(ed-)2010
1777 y(its)h(af)n(fect)e(only)g(the)h(incoming)f(pattern)g(and)g(do)h
(not)f(operate)g(on)2010 1876 y(the)24 b(matched)f(font.)35
b(This)25 b(mak)o(es)e(the)h(e)o(xample)f(of)h(disabling)2010
1976 y(anti-aliasing)19 b(for)h(LuciduxSerif)e(fonts)i(produce)e(une)o
(xpected)2010 2076 y(results)j(when)e(presented)g(with)h(a)h(name)f(of)
f(the)i(form:)2176 2363 y(T)m(imes,LuciduxSerif,serif-10)2010
2650 y(The)g(`match')g(clause)h(will)g(succeed)f(with)h(this)h
(pattern,)e(caus-)2010 2750 y(ing)d(this)g(T)m(imes)h(font)e(to)h(be)g
(displayed)f(without)h(anti-aliasing.)2010 2949 y(Another)23
b(issue)h(is)h(that)f(font)f(aliases)i(are)f(dif)n(\002cult)f(to)h
(specify)2010 3049 y(and)j(still)j(don')o(t)c(pro)o(vide)g(precisely)h
(the)h(desired)g(semantics.)2010 3148 y(There)14 b(are)i(tw)o(o)f
(possible)g(semantics)h(desired)e(for)h(font)g(aliases;)2010
3248 y(the)j(\002rst)g(is)h(that)e(certain)g(f)o(aces)h(should)f
Fe(always)h Fg(be)f(substituted)2010 3348 y(for)h(others,)g(the)h
(second)f(is)i(that)f(certain)f(f)o(aces)h Fe(may)g Fg(be)g(substi-)
2010 3447 y(tuted)27 b(for)f(others)h(when)f(those)h(are)g(not)g
(found.)44 b(An)27 b(e)o(xplicit)2010 3547 y(statement)22
b(of)g(this)h(kind)e(w)o(ould)h(both)f(clarify)h(the)g(\002le)h(format)
2010 3646 y(while)d(impro)o(ving)e(the)i(font)f(matching)g(semantics.)
2010 4083 y Fh(8)99 b(F)n(ont)25 b(Matching)2010 4404
y Fg(The)f(goal)h(for)f(font)g(matching)f(in)i(Xft)g(is)h(to)f(accept)f
(a)h(collec-)2010 4503 y(tion)16 b(of)g(characteristics)g(from)f(the)i
(application)e(and)g(return)h(the)2010 4603 y(best)32
b(font)g(from)f(all)h(of)g(those)g(a)n(v)n(ailable.)59
b(The)32 b(application)2010 4703 y(pro)o(vides)16 b(a)i(font)f
(speci\002cation)g(in)h(the)g(form)f(of)h(an)f(XftP)o(attern)2010
4802 y(to)27 b(the)f(XftF)o(ontMatch)f(function.)43 b(The)26
b(pattern)g(is)i(edited)e(as)2010 4902 y(described)g(in)h(Section)g
(7.3.)46 b(X)27 b(resources)g(are)g(then)f(used)h(to)2010
5001 y(modify)d(the)i(pattern)g(as)g(sho)n(wn)g(in)g(T)-7
b(able)26 b(3.)42 b(If)26 b(a)h(pix)o(el)e(size)2010
5101 y(w)o(as)i(not)f(speci\002ed)g(by)g(the)h(application,)f(it)h(is)h
(computed)c(by)2010 5201 y(taking)k(the)h(speci\002ed)g(point)f(size)i
(\(if)f(speci\002ed,)i(else)e(12.0\),)2010 5300 y(multiplying)21
b(that)j(by)f(the)g(scale)h(f)o(actor)f(and)g(then)f(con)m(v)o(erting)
2010 5400 y(it)17 b(from)f(points)g(to)g(pix)o(els)g(using)g(the)h
(speci\002ed)f(dpi)g(v)n(alue.)23 b(The)p eop
%%Page: 8 8
8 7 bop 897 517 a Fe(command)100 b Fb(:)21 b Fc(match)f
Fe(tests)h Fc(edit)f Fe(edits)897 616 y(tests)278 b Fb(:)21
b Fe(test)h(tests)1322 716 y Fd(j)897 815 y Fe(test)310
b Fb(:)21 b Fc(any)f Fd(j)h Fc(all)f Fe(name)g(compar)m(e)f(value)897
915 y(compar)m(e)136 b Fb(:)21 b Fc(==)f Fd(j)h Fc(!=)f
Fd(j)h Fc(<)g Fd(j)g Fc(<=)f Fd(j)h Fc(>)f Fd(j)h Fc(>=)897
1015 y Fe(edits)268 b Fb(:)21 b Fe(edit)h(edits)1322
1114 y Fd(j)897 1214 y Fe(edit)300 b Fb(:)21 b Fe(name)e(eqop)g(e)n
(xpr)k Fg(;)897 1314 y Fe(eqop)262 b Fb(:)21 b Fc(=)f
Fd(j)h Fc(+=)g Fd(j)f Fc(=+)897 1413 y Fe(e)n(xpr)279
b Fd(j)21 b Fe(value)1322 1513 y Fd(j)g Fe(name)1322
1612 y Fd(j)g Fe(e)n(xpr)h(binop)d(e)n(xpr)1322 1712
y Fd(j)i Fc(!)f Fe(e)n(xpr)1322 1812 y Fd(j)h Fe(e)n(xpr)h
Fc(?)f Fe(e)n(xpr)h Fc(:)f Fe(e)n(xpr)897 1911 y(binop)234
b Fb(:)21 b Fc(||)f Fd(j)h Fc(&&)f Fd(j)h Fc(==)g Fd(j)f
Fc(!=)h Fd(j)g Fc(<)f Fd(j)h Fc(<=)f Fd(j)h Fc(>)g Fd(j)g
Fc(>=)f Fd(j)h Fc(+)f Fd(j)h Fc(-)g Fd(j)g Fc(*)f Fd(j)h
Fc(/)0 2089 y Fg(Examples:)0 2255 y Fc(#)50 b(Use)f(LuciduxSerif)e(as)j
(default)e(serif'ed)h(font)0 2355 y(match)g(any)g(family)g(==)g
("serif")0 2454 y(edit)298 b(family)49 b(+=)g("LuciduxSerif";)0
2554 y(#)h(Avoid)f(using)f(anti-aliasing)g(at)h(some)g(sizes)g(for)g
(LuciduxSerif)f(face)0 2654 y(match)h(any)g(family)g(==)g
("LuciduxSerif")e(any)j(size)f(<)g(14)h(any)f(size)g(>)h(8)0
2753 y(edit)298 b(antialias)48 b(=)i(false;)1320 3002
y Fg(Figure)19 b(2:)26 b(Xft)20 b(P)o(attern)g(Editing)f(Syntax.)p
378 3984 3114 4 v 376 4083 4 100 v 428 4053 a(X)i(Resource)154
b(T)-7 b(ype)206 b(Ef)n(fect)1278 b(Def)o(ault)p 3490
4083 V 378 4087 3114 4 v 376 4186 4 100 v 428 4156 a(Xft.render)199
b(Bool)209 b(Directs)21 b(Xft)f(to)h(use)f(client-side)g(fonts)337
b(HasRender)p 3490 4186 V 376 4286 V 428 4256 a(Xft.core)269
b(Bool)209 b(Directs)21 b(Xft)f(to)h(use)f(serv)o(er)n(-side)f(fonts)
322 b(!HasRender)p 3490 4286 V 376 4385 V 428 4356 a(Xft.antialias)136
b(Bool)209 b(Selects)21 b(whether)f(glyphs)f(are)h(anti-aliased)187
b(T)m(rue)p 3490 4385 V 376 4485 V 428 4455 a(Xft.r)o(gba)265
b(Number)97 b(Speci\002es)21 b(sub-pix)o(el)e(order)f(on)i(LCD)h
(screens)99 b(0)p 3490 4485 V 376 4585 V 428 4555 a(Xft.minspace)f
(Bool)209 b(Eliminates)20 b(e)o(xtra)g(leading)f(between)g(lines)199
b(F)o(alse)p 3490 4585 V 376 4684 V 428 4654 a(Xft.scale)247
b(Number)97 b(Scales)21 b(point)f(size)h(of)f(all)g(fonts)545
b(1.0)p 3490 4684 V 376 4784 V 428 4754 a(Xft.dpi)306
b(Number)97 b(Used)21 b(to)f(con)m(v)o(ert)e(point)i(size)h(into)f(pix)
o(el)f(size)132 b(V)-9 b(ertical)20 b(screen)g(dpi)p
3490 4784 V 378 4787 3114 4 v 1127 4935 a(T)-7 b(able)21
b(3:)k(Adjusting)19 b(Xft)i(v)n(alues)e(with)i(X)g(Resources.)p
eop
%%Page: 9 9
9 8 bop 393 3 1074 4 v 391 103 4 100 v 443 73 a Fg(Order)98
b(Name)210 b(T)-7 b(ype)p 1465 103 V 393 106 1074 4 v
391 206 4 100 v 595 176 a(1)99 b(foundry)143 b(String)p
1465 206 V 391 306 V 595 276 a(2)99 b(encoding)j(String)p
1465 306 V 391 405 V 595 375 a(3)d(antialias)132 b(Bool)p
1465 405 V 391 505 V 595 475 a(4)99 b(f)o(amily)192 b(String)p
1465 505 V 391 604 V 595 575 a(5)99 b(spacing)154 b(Number)p
1465 604 V 391 704 V 595 674 a(6)99 b(pix)o(elsize)114
b(Number)p 1465 704 V 391 804 V 595 774 a(7)99 b(style)252
b(String)p 1465 804 V 391 903 V 595 873 a(8)99 b(slant)252
b(Number)p 1465 903 V 391 1003 V 595 973 a(9)99 b(weight)182
b(Number)p 1465 1003 V 391 1103 V 554 1073 a(10)98 b(rasterizer)h
(String)p 1465 1103 V 391 1202 V 554 1172 a(11)f(outline)177
b(Bool)p 1465 1202 V 393 1205 1074 4 v 71 1353 a(T)-7
b(able)20 b(4:)25 b(Matching)19 b(Order)h(of)f(Xft)i(Field)f
(Comparisons.)0 1606 y(other)k(X)i(resources)f(are)g(used)g(as)h(def)o
(ault)e(v)n(alues)h(for)g(the)g(as-)0 1706 y(sociated)20
b(pattern)f(elements.)0 1905 y(The)36 b(fully)f(speci\002ed)h(pattern)f
(is)i(then)e(compared)f(with)i(all)0 2005 y(a)n(v)n(ailable)18
b(fonts.)24 b(Only)17 b(the)i(\002elds)f(sho)n(wn)g(in)g(table)g(4)h
(are)f(used)0 2105 y(in)29 b(this)g(comparison.)48 b(The)28
b(order)f(of)h(\002elds)h(in)g(this)g(table)g(is)0 2204
y(signi\002cant;)18 b(an)o(y)g(mismatch)f(in)i(elements)e(earlier)h(in)
g(the)h(table)0 2304 y(o)o(v)o(erride)d(all)j(matches)g(in)f(later)h
(elements.)24 b(Missing)19 b(elements)0 2403 y(in)31
b(a)g(pattern)f(or)h(font)f(are)g(tacitly)h(matched.)56
b(Numbers)30 b(are)0 2503 y(measured)25 b(by)g(the)h(magnitude)e(of)h
(their)h(dif)n(ference.)40 b(This)26 b(is)0 2603 y(ho)n(w)20
b(`oblique')e(selects)j(`italic')f(instead)g(of)g(`roman'.)0
2802 y(Field)39 b(with)f(multiple)g(v)n(alues)g(are)h(biased)f(to)h
(prefer)e(fonts)0 2902 y(which)20 b(match)f(earlier)h(in)g(the)h(list;)
g(this)g(w)o(ay)f(the)g(name)166 3153 y(T)m(imes,LuciduxSerif,serif-10)
0 3405 y(will)h(prefer)e(to)h(match)g(`T)m(imes')g(o)o(v)o(er)e
(`LuciduxSerif)5 b('.)0 3604 y(Once)35 b(a)h(font)f(has)h(been)f
(selected,)k(an)d(XftP)o(attern)f(is)h(b)n(uilt)0 3704
y(which)28 b(describes)h(that)g(font)f(precisely)g(allo)n(wing)g(the)h
(appli-)0 3803 y(cation)22 b(to)g(disco)o(v)o(er)f(what)h(font)g(w)o
(as)h(actually)e(selected.)31 b(This)0 3903 y(pattern)e(includes)g
(information)e(about)i(the)g(underlying)e(font)0 4003
y(\002le)h(itself)g(allo)n(wing)e(applications)g(direct)g(access)i(to)f
(an)o(y)g(in-)0 4102 y(formation)f(una)n(v)n(ailable)h(through)g(FreeT)
-7 b(ype.)48 b(Fields)29 b(found)0 4202 y(in)21 b(the)g(pattern)f(that)
i(don')o(t)d(occur)h(in)h(the)g(font)g(are)g(added;)f(this)0
4302 y(allo)n(ws)j(applications)f(to)h(communicate)e(information)g(in)i
(font)0 4401 y(patterns,)g(both)f(to)h(rasterizers)f(and)h(also)g
(within)g(the)g(applica-)0 4501 y(tion)d(itself.)0 4909
y Fh(9)99 b(Cor)n(e)26 b(X)f(F)n(ont)f(Handling)0 5201
y Fg(While)39 b(the)f(main)g(goal)f(of)h(Xft)h(is)g(to)f(pro)o(vide)e
(client-side)0 5300 y(font)25 b(support)g(using)h(FreeT)-7
b(ype)25 b(and)h(the)g(Render)f(e)o(xtension,)0 5400
y(it)31 b(seemed)f(reasonable)e(to)j(also)f(pro)o(vide)e(some)i
(application)2010 83 y(compatibility)e(by)h(using)g(core)g(X)h(fonts)g
(where)f(the)g(Render)2010 183 y(e)o(xtension)c(w)o(as)i(una)n(v)n
(ailable.)42 b(This,)27 b(by)f(necessity)-5 b(,)27 b(restricts)2010
282 y(the)f(capabilities)g(of)g(the)g(library)-5 b(,)26
b(b)n(ut)g(e)n(v)o(en)g(so,)h(man)o(y)e(appli-)2010 382
y(cations)k(can)g(use)h(Xft)f(functions)f(with)i(either)f(core)g(or)g
(Ren-)2010 482 y(der)f(fonts)f(without)g(change.)47 b(Others)28
b(need)f(only)g(minor)g(ad-)2010 581 y(justments)d(to)h(notice)e(when)h
(FreeT)-7 b(ype)24 b(functions)e(cannot)i(be)2010 681
y(used.)2010 880 y(Core)i(font)g(handling)f(tak)o(es)i(tw)o(o)g
(pieces;)i(selection)e(of)f(fonts)2010 980 y(and)e(rendering.)34
b(The)23 b(selection)h(of)g(fonts)g(is)h(done)e(by)g(listing)2010
1079 y(the)k(a)n(v)n(ailable)f(X)h(fonts)g(and)f(con)m(v)o(erting)e
(those)i(into)h(XftP)o(at-)2010 1179 y(tern)f(data)h(structures)f(and)g
(then)g(accepting)g(application)f(pat-)2010 1279 y(terns)19
b(for)f(matching.)23 b(As)c(the)g(matching)f(is)h(based)g(on)f(a)h
(\223near)n(-)2010 1378 y(ness\224)32 b(metric)f(instead)h(of)f(simple)
h(shell)g(pattern)e(matching,)2010 1478 y(the)19 b(resulting)e
(matching)h(is)h(generally)e(more)h(useful)g(than)g(that)2010
1577 y(speci\002ed)28 b(by)g(the)g(XLFD.)h(This)f(can)g(simplify)g
(applications)2010 1677 y(which)18 b(before)f(had)h(signi\002cant)h
(mechanism)e(de)n(v)n(oted)g(to)i(core)2010 1777 y(X)i(font)e
(matching.)2010 1976 y(Once)e(a)h(core)e(font)h(is)h(selected,)g
(rendering)d(becomes)h(a)i(simple)2010 2076 y(matter)24
b(of)g(ha)n(ving)f(the)i(Xft)f(routines)g(call)h(the)f(standard)f(Xlib)
2010 2175 y(te)o(xt)f(dra)o(wing)e(routines.)29 b(The)22
b(only)f(dif)n(\002culty)g(is)h(in)g(mapping)2010 2275
y(the)g(Unicode)e(glyphs)h(pro)o(vided)e(by)i(the)h(application)e(into)
i(the)2010 2374 y(encoding)c(supported)g(by)i(the)g(font.)2010
2574 y(One)29 b(ef)n(fect)g(of)g(this)h(mer)o(ging)e(is)i(that)g(the)f
(general)g(Xft)g(ren-)2010 2673 y(dering)f(routines)g(e)o(xpose)g(no)g
(capabilities)h(not)g(pro)o(vided)d(by)2010 2773 y(both)20
b(Render)h(and)f(core)g(fonts.)27 b(Applications)20 b(may)h(specify)f
(a)2010 2873 y(translucent)15 b(color)f(v)n(alue)h(for)g(dra)o(wing,)g
(b)n(ut)h(it)g(will)h(be)e(ignored)2010 2972 y(when)28
b(using)g(core)h(fonts.)50 b(Similarly)-5 b(,)30 b(there')-5
b(s)28 b(no)h(pro)o(vision)2010 3072 y(for)24 b(selecting)g(a)i(raster)
e(operation)f(or)i(compositing)d(operator)2010 3171 y(as)f(each)f(is)h
(supported)d(by)i(only)f(one)h(underlying)d(renderer)-5
b(.)2010 3371 y(The)21 b(result)g(is)i(a)e(ne)n(w)h(w)o(ay)f(of)g
(using)g(the)g(core)g(fonts)g(which)g(is)2010 3470 y(in)j(man)o(y)e(w)o
(ays)i(easier)g(to)f(use)h(and)f(more)g(po)n(werful)e(than)j(the)2010
3570 y(Xlib)c(equi)n(v)n(alents.)2010 3982 y Fh(10)99
b(An)25 b(Ov)o(er)o(view)g(of)g(Xft)g(Interfaces)2010
4278 y Fg(The)g(Xft)g(programming)c(interf)o(ace)j(can)h(be)f(easily)i
(separated)2010 4378 y(into)e(three)g(distinct)g(areas:)33
b(those)24 b(dealing)g(with)g(XftP)o(atterns)2010 4477
y(and)h(matching)f(fonts,)j(those)e(dealing)g(with)h(dra)o(wing)e
(glyphs)2010 4577 y(on)d(the)h(screen)g(and)f(a)i(small)f(section)g
(pro)o(viding)d(an)i(interf)o(ace)2010 4677 y(to)f(the)h(underlying)c
(FreeT)-7 b(ype)19 b(library)-5 b(.)2010 4973 y Ff(10.1)92
b(Xft)23 b(Data)g(Structur)n(es)2010 5201 y Fa(XftV)-8
b(alue)2176 5300 y Fc(typedef)49 b(enum)g(_XftType)f({)2375
5400 y(XftTypeVoid,)p eop
%%Page: 10 10
10 9 bop 365 83 a Fc(XftTypeInteger,)365 183 y(XftTypeDouble,)365
282 y(XftTypeString,)365 382 y(XftTypeBool,)365 482 y(XftTypeMatrix)166
581 y(})50 b(XftType;)166 780 y(typedef)f(struct)f(_XftValue)g({)365
880 y(XftType)348 b(type;)365 980 y(union)49 b({)565
1079 y(char)298 b(*s;)565 1179 y(int)348 b(i;)565 1279
y(Bool)298 b(b;)565 1378 y(double)198 b(d;)565 1478 y(XftMatrix)48
b(*m;)365 1577 y(})i(u;)166 1677 y(})g(XftValue;)166
1810 y Fg(An)25 b(XftV)-9 b(alue)24 b(holds)h(one)f(v)n(alue)g(for)h
(an)g(element)f(of)h(an)166 1910 y(XftP)o(attern.)37
b(It)24 b(should)g(be)g(treated)g(as)h(a)g(tagged)e(union;)166
2010 y(set)18 b(and)e(check)h(the)g(`type')e(\002eld)j(before)d(using)i
(the)g(union)166 2109 y(elements.)67 b(Storage)33 b(for)g(the)i(string)
e(and)h(matrix)g(ele-)166 2209 y(ments)23 b(is)g(separate.)32
b(Xft)22 b(al)o(w)o(ays)h(copies)g(the)f(data)h(from)166
2309 y(these)29 b(pointers)f(when)g(recei)n(ving)f(XftV)-9
b(alue)28 b(structures)166 2408 y(from)h(the)h(application,)h(this)g
(lea)n(v)o(es)f(applications)f(free)166 2508 y(to)20
b(use)h(static)g(or)f(stack-based)f(storage)g(as)i(appropriate.)0
2675 y Fa(XftP)o(atter)o(n)166 2774 y Fc(typedef)49 b(struct)f
(_XftPattern)365 2874 y(XftPattern;)166 3007 y Fg(An)23
b(XftP)o(attern)g(is)h(an)g(opaque)d(structure)i(holding)f(a)h(list)166
3107 y(of)30 b(named)e(elements,)k(each)e(of)f(which)g(holds)h(a)g
(list)h(of)166 3207 y(XftV)-9 b(alues.)77 b(Xft)38 b(pro)o(vides)e
(interf)o(aces)i(to)g(b)n(uild)f(and)166 3306 y(query)19
b(these)h(patterns.)0 3473 y Fa(XftF)n(ont)166 3573 y
Fc(typedef)49 b(struct)f(_XftFont)h({)365 3673 y(int)h(ascent;)365
3772 y(int)g(descent;)365 3872 y(int)g(height;)365 3972
y(int)g(max_advance_width;)365 4071 y(Bool)f(core;)365
4171 y(XftPattern)f(*pattern;)365 4270 y(union)h({)565
4370 y(struct)f({)764 4470 y(XFontStruct)g(*font;)565
4569 y(})h(core;)565 4669 y(struct)f({)764 4769 y(XftFontStruct)f
(*font;)565 4868 y(})i(ft;)365 4968 y(})h(u;)166 5067
y(})g(XftFont;)166 5201 y Fg(The)24 b(XftF)o(ont)f(data)h(structure)g
(is)h(returned)d(when)i(open-)166 5300 y(ing)17 b(fonts)g(and)f(is)i
(used)f(in)g(dra)o(wing)f(glyphs.)23 b(The)17 b(visible)166
5400 y(members)22 b(pro)o(vide)f(a)i(modicum)e(of)i(information)e
(about)2176 83 y(the)28 b(font.)49 b(The)27 b(`core')g(v)n(alue)h(will)
h(be)f(T)m(rue)g(if)g(the)g(un-)2176 183 y(derlying)i(font)g(is)j(a)e
(core)g(X)h(font,)h(in)f(which)f(case)h(the)2176 282
y(u.core.font)19 b(\002eld)j(will)h(point)e(at)i(an)f(XF)o(ontStruct.)
29 b(Oth-)2176 382 y(erwise,)d(the)f(underlying)d(font)i(is)i(a)f
(FreeT)-7 b(ype)24 b(font)g(and)2176 482 y(the)c(u.ft.font)f(\002eld)h
(refers)g(to)g(an)g(XftF)o(ontStruct.)2010 640 y Fa(XftF)n(ontStruct)
2176 740 y Fc(typedef)49 b(struct)f(_XftFontStruct)2375
839 y(XftFontStruct;)2176 1039 y(struct)h(_XftFontStruct)e({)2375
1138 y(FT_Face)i(face;)2375 1238 y(GlyphSet)g(glyphset;)2375
1338 y(int)h(min_char;)2375 1437 y(int)g(max_char;)2375
1537 y(FT_F26Dot6)e(size;)2375 1636 y(int)i(ascent;)2375
1736 y(int)g(descent;)2375 1836 y(int)g(height;)2375
1935 y(int)g(max_advance_width;)2375 2035 y(int)g(spacing;)2375
2135 y(int)g(rgba;)2375 2234 y(Bool)f(antialias;)2375
2334 y(int)h(charmap;)2375 2433 y(XRenderPictFormat)d(*format;)2375
2533 y(XGlyphInfo)h(**realized;)2375 2633 y(int)i(nrealized;)2375
2732 y(Bool)f(transform;)2375 2832 y(FT_Matrix)f(matrix;)2176
2932 y(};)2176 3061 y Fg(This)g(structure)f(should)f(probably)g(become)
g(opaque)2176 3160 y(with)19 b(suitable)g(accessor)f(functions)f(to)i
(reach)g(the)f(appro-)2176 3260 y(priate)29 b(internal)f(\002elds.)52
b(The)28 b(most)h(useful)g(member)f(is)2176 3360 y(lik)o(ely)d(to)g(be)
g(the)g(`f)o(ace')f(which)g(refers)h(to)g(the)g(underly-)2176
3459 y(ing)h(FreeT)-7 b(ype)25 b(object,)h(ho)n(we)n(v)o(er)m(,)f(as)i
(k)o(eeping)d(that)i(ob-)2176 3559 y(ject)d(resident)f(in)g(memory)f
(is)i(rather)e(e)o(xpensi)n(v)o(e,)g(it)i(may)2176 3658
y(be)f(that)g(this)h(needs)f(to)g(become)f(cached)g(and)h(loaded)f(on)
2176 3758 y(demand.)32 b(Applications)22 b(w)o(anting)g(to)h(use)g
(this)g(\002eld)h(are)2176 3858 y(wise)32 b(to)f(prepare)f(for)g(its)i
(e)n(v)o(entual)e(disappearance)f(by)2176 3957 y(wrapping)i(access)j
(in)f(a)g(macro.)63 b(An)33 b(audit)f(of)h(which)2176
4057 y(other)i(\002elds)g(of)g(this)h(structure)f(should)f(be)h
(visible)h(is)2176 4157 y(needed.)2010 4315 y Fa(XftDraw)2176
4415 y Fc(typedef)49 b(struct)f(_XftDraw)2375 4514 y(XftDraw;)2176
4644 y Fg(An)16 b(XftDra)o(w)f(encapsulates)g(the)g(state)i(needed)d
(to)i(render)2176 4743 y(glyphs)h(to)h(an)g(X)g(dra)o(w)o(able.)23
b(F)o(or)17 b(the)h(Render)f(e)o(xtension,)2176 4843
y(a)23 b(Picture)g(is)h(needed)d(while)i(for)f(core)h(X,)g(a)g(GC)h
(and)e(as-)2176 4942 y(sociated)e(pix)o(el)f(v)n(alues)h(are)g
(required.)2010 5101 y Fa(XftColor)2176 5201 y Fc(typedef)49
b(struct)f(_XftColor)g({)2375 5300 y(unsigned)h(long)148
b(pixel;)2375 5400 y(XRenderColor)197 b(color;)p eop
%%Page: 11 11
11 10 bop 166 83 a Fc(})50 b(XftColor;)166 212 y Fg(The)28
b(Render)g(e)o(xtension)f(needs)i(RGB)m(A)g(while)g(core)f(X)166
312 y(requires)17 b(a)i(pix)o(el)e(v)n(alue.)24 b(An)18
b(XftColor)g(holds)g(both,)f(and)166 412 y(routines)28
b(e)o(xist)h(to)g(initialize)h(and)e(free)h(an)o(y)f(associated)166
511 y(resources.)71 b(F)o(or)36 b(T)m(rueColor)e(visuals,)40
b(the)c(allocation)166 611 y(routine)23 b(a)n(v)n(oids)g(a)i(round)d
(trip)h(by)h(computing)d(the)j(pix)o(el)166 710 y(v)n(alue)f(locally)-5
b(,)23 b(so)g(there')-5 b(s)24 b(no)f(performance)d(penalty)i(in)166
810 y(that)k(case.)41 b(When)26 b(it)g(is)h(kno)n(w)d(that)i(the)g
(Render)f(e)o(xten-)166 910 y(sion)17 b(will)h(be)f(used,)h(the)f
(`color')f(member)f(can)i(be)h(initial-)166 1009 y(ized)i(manually)f
(lea)n(ving)g(the)i(`pix)o(el')d(v)n(alue)i(unset.)0
1168 y Fa(XftObjectSet)166 1268 y Fc(typedef)49 b(struct)f
(_XftObjectSet)365 1368 y(XftObjectSet;)166 1497 y Fg(The)42
b(font)g(listing)h(mechanism)e(within)h(Xft)h(uses)g(an)166
1597 y(XftObjectSet)17 b(to)h(restrict)f(the)h(amount)e(of)h(data)g
(returned)166 1696 y(to)24 b(the)h(application.)35 b(An)24
b(XftObjectSet)g(holds)g(a)h(list)g(of)166 1796 y(\002eld)20
b(names.)0 1955 y Fa(XftF)n(ontSet)166 2055 y Fc(typedef)49
b(struct)365 2154 y(_XftFontSet)f({)365 2254 y(int)i(nfont;)365
2353 y(int)g(sfont;)365 2453 y(XftPattern)e(**fonts;)166
2553 y(})i(XftFontSet;)166 2682 y Fg(XftF)o(ontSets)18
b(reference)f(a)h(set)h(of)f(patterns)g(and)g(are)g(used)166
2782 y(as)j(the)f(return)f(v)n(alue)h(from)f(the)h(font)g(listing)g
(functions.)0 2941 y Fa(XftResult)166 3040 y Fc(typedef)49
b(enum)g(_XftResult)f({)365 3140 y(XftResultMatch,)365
3240 y(XftResultNoMatch,)365 3339 y(XftResultTypeMismatch,)365
3439 y(XftResultNoId)166 3539 y(})i(XftResult;)166 3668
y Fg(Functions)29 b(that)g(return)g(a)h(search)f(result)h(use)g(this)g
(data)166 3767 y(type)17 b(to)g(present)g(their)g(\002ndings.)23
b(XftResultMatch)17 b(indi-)166 3867 y(cates)j(that)f(the)h(object)f(w)
o(as)h(found,)e(XftResultNoMatch)166 3967 y(says)h(that)f(no)g
(matching)f(object)h(w)o(as)h(found.)j(XftResult-)166
4066 y(T)-7 b(ypeMismatch)27 b(says)h(that)g(an)g(object)g(w)o(as)h
(found,)f(b)n(ut)166 4166 y(it)22 b(w)o(as)g(of)e(the)i(wrong)d(type)i
(while)g(XftResultNoId)f(says)166 4266 y(that)i(an)g(object)f(w)o(as)i
(found,)d(b)n(ut)i(that)g(there)f(were)h(fe)n(wer)166
4365 y(v)n(alues)e(than)g(requested.)0 4657 y Ff(10.2)92
b(F)n(ont)22 b(P)o(atter)o(n)i(Manipulation)0 4949 y
Fg(Man)o(y)37 b(Xft)i(operations)e(in)m(v)n(olv)o(e)g(XftP)o(attern)g
(objects.)80 b(As)0 5049 y(those)19 b(should)g(not)g(be)g(directly)g
(accessed)h(by)f(the)g(application,)0 5148 y(a)i(set)g(of)f(routines)f
(e)o(xist)h(to)g(manipulate)f(them.)0 5400 y Fa(XftP)o(atter)o(nCr)o
(eate)2176 83 y Fc(XftPattern)48 b(*)2176 183 y(XftPatternCreate)f(\()
2375 282 y(void\))2176 414 y Fg(This)20 b(creates)h(an)f(empty)f
(pattern.)2010 579 y Fa(XftP)o(atter)o(nDuplicate)2176
678 y Fc(XftPattern)48 b(*)2176 778 y(XftPatternDuplicate)e(\()2375
878 y(XftPattern)i(*p\))2176 1010 y Fg(A)27 b(ne)n(w)e(pattern)g(is)i
(created)f(which)f(contains)g(all)i(of)f(the)2176 1109
y(v)n(alues)d(from)g(`p'.)35 b(V)-9 b(alues)23 b(referring)f(to)h
(other)g(memory)2176 1209 y(\(strings)17 b(and)h(matrices\))f(are)h
(copied)e(to)i(ne)n(wly)f(allocated)2176 1308 y(storage)j(as)g(well.)
2010 1473 y Fa(XftP)o(atter)o(nDestr)o(oy)2176 1573 y
Fc(void)2176 1672 y(XftPatternDestroy)47 b(\()2375 1772
y(XftPattern)h(*p\))2176 1904 y Fg(All)34 b(referenced)c(storage,)35
b(including)c(an)o(y)h(strings)h(and)2176 2003 y(matrices)f(referred)e
(to)i(by)g(v)n(alues)f(within)h(the)g(pattern,)2176 2103
y(is)21 b(freed.)2010 2267 y Fa(XftP)o(atter)o(nAdd)2176
2367 y Fc(Bool)2176 2467 y(XftPatternAdd)47 b(\()2375
2566 y(XftPattern)h(*p,)2375 2666 y(const)h(char)g(*object,)2375
2766 y(XftValue)g(value,)2375 2865 y(Bool)g(append\))2176
2997 y Fg(`v)n(alue')14 b(is)j(added)d(to)h(the)h(list)g(of)g(v)n
(alues)f(for)g(the)g(\002eld)h(`ob-)2176 3097 y(ject'.)33
b(If)23 b(`append')e(is)j(T)m(rue,)e(the)h(v)n(alue)g(is)h(added)d(to)j
(the)2176 3197 y(end)f(of)g(the)h(list,)h(otherwise)e(it)h(is)h(insert)
f(at)g(the)f(head.)35 b(If)2176 3296 y(`v)n(alue')25
b(refers)g(to)h(a)h(string)e(or)h(matrix,)g(XftP)o(atternAdd)2176
3396 y(will)h(allocate)g(ne)n(w)f(storage)g(and)g(cop)o(y)f(the)i
(object)f(into)2176 3495 y(it.)37 b(XftP)o(atternAdd)22
b(returns)g(F)o(alse)j(only)e(when)g(allocat-)2176 3595
y(ing)35 b(space)g(for)g(this)h(operation)d(f)o(ails.)71
b(This)35 b(function)2176 3695 y(forms)f(the)g(basis)h(for)f(the)h
(remaining)d(XftP)o(atternAdd)2176 3794 y(functions.)2176
4005 y Fc(Bool)2176 4105 y(XftPatternAddInteger)46 b(\()2375
4204 y(XftPattern)i(*p,)2375 4304 y(const)h(char)g(*object,)2375
4404 y(int)h(i\))2176 4603 y(Bool)2176 4703 y(XftPatternAddDouble)c(\()
2375 4802 y(XftPattern)i(*p,)2375 4902 y(const)h(char)g(*object,)2375
5001 y(double)g(d\))2176 5201 y(Bool)2176 5300 y(XftPatternAddString)d
(\()2375 5400 y(XftPattern)i(*p,)p eop
%%Page: 12 12
12 11 bop 365 83 a Fc(const)49 b(char)g(*object,)365
183 y(const)g(char)g(*s\))166 382 y(Bool)166 482 y(XftPatternAddMatrix)
d(\()365 581 y(XftPattern)i(*p,)365 681 y(const)h(char)g(*object,)365
780 y(const)g(XftMatrix)f(*s\))166 980 y(Bool)166 1079
y(XftPatternAddBool)f(\()365 1179 y(XftPattern)h(*p,)365
1279 y(const)h(char)g(*object,)365 1378 y(Bool)g(b\))166
1595 y Fg(Each)32 b(of)h(these)f(functions)g(creates)g(a)h(temporary)e
(Xft-)166 1695 y(V)-9 b(alue)44 b(with)h(the)g(appropriate)e(type)h
(and)g(v)n(alue)g(and)166 1794 y(passes)23 b(it)h(to)e(XftP)o
(atternAdd)f(with)i(the)f(`append')e(v)n(alue)166 1894
y(set)h(to)f(T)m(rue.)0 2061 y Fa(XftP)o(atter)o(nGet)166
2161 y Fc(XftResult)166 2260 y(XftPatternGet)47 b(\()365
2360 y(XftPattern)h(*p,)365 2459 y(const)h(char)g(*object,)365
2559 y(int)h(id,)365 2659 y(XftValue)f(*v\))166 2792
y Fg(XftP)o(atternGet)21 b(searches)h(the)h(indicated)e(pattern)g(for)h
(an)166 2892 y(element)40 b(whose)h(name)f(matches)g(`object'.)86
b(It)41 b(then)166 2991 y(searches)27 b(along)f(the)h(list)h(of)f(v)n
(alues)f(for)h(that)g(name)f(for)166 3091 y(the)i(`id')o(th)e(element)g
(\(starting)h(at)h(zero\))f(and)g(stores)h(the)166 3190
y(resulting)16 b(v)n(alue)f(in)i(v)-5 b(.)24 b(It)16
b(does)h(not)f(allocate)g(ne)n(w)g(storage)166 3290 y(for)k(strings)h
(or)g(matrices,)g(so)g(applications)f(must)h(ensure)166
3390 y(that)16 b(the)h(returned)d(v)n(alue)i(not)f(be)i(referenced)d
(be)o(yond)g(the)166 3489 y(life)19 b(of)g(the)g(XftP)o(attern)f
(itself.)25 b(This)19 b(function)e(forms)i(the)166 3589
y(basis)i(for)e(the)i(remaining)d(XftP)o(atternGet)h(functions.)166
3806 y Fc(XftResult)166 3906 y(XftPatternGetInteger)46
b(\()365 4005 y(XftPattern)i(*p,)365 4105 y(const)h(char)g(*object,)365
4204 y(int)h(n,)365 4304 y(int)g(*i\))166 4503 y(XftResult)166
4603 y(XftPatternGetDouble)c(\()365 4703 y(XftPattern)i(*p,)365
4802 y(const)h(char)g(*object,)365 4902 y(int)h(n,)365
5001 y(double)f(*d\))166 5201 y(XftResult)166 5300 y
(XftPatternGetString)d(\()365 5400 y(XftPattern)i(*p,)2375
83 y(const)h(char)g(*object,)2375 183 y(int)h(n,)2375
282 y(char)f(**s\))2176 482 y(XftResult)2176 581 y(XftPatternGetMatrix)
d(\()2375 681 y(XftPattern)i(*p,)2375 780 y(const)h(char)g(*object,)
2375 880 y(int)h(n,)2375 980 y(XftMatrix)e(**s\))2176
1179 y(XftResult)2176 1279 y(XftPatternGetBool)f(\()2375
1378 y(XftPattern)h(*p,)2375 1478 y(const)h(char)g(*object,)2375
1577 y(int)h(n,)2375 1677 y(Bool)f(*b\))2176 2097 y Fg(Each)28
b(of)g(these)h(con)m(v)o(enience)c(functions)i(calls)i(XftP)o(at-)2176
2196 y(ternGet.)90 b(If)42 b(the)g(datatype)f(of)h(the)g(resulting)f(v)
n(alue)2176 2296 y(doesn')o(t)49 b(match)h(the)h(type)f(of)g(the)g
(function,)56 b(these)2176 2395 y(functions)46 b(return)g(XftResultT)-7
b(ypeMismatch,)52 b(other)n(-)2176 2495 y(wise)21 b(the)o(y)e(return)g
(the)i(same)f(thing)f(as)i(XftP)o(atternGet.)2010 2665
y Fa(XftP)o(atter)o(nBuild)2176 2764 y Fc(XftPattern)48
b(*)2176 2864 y(XftPatternBuild)f(\()2375 2963 y(XftPattern)h(*orig,)
2375 3063 y(...\))2176 3198 y Fg(The)34 b(ar)o(guments)e(after)j
(`orig')e(form)g(a)i(list)g(of)f(pattern)2176 3297 y(names,)19
b(types)h(and)f(v)n(alues)g(to)g(add)g(to)h(the)g(speci\002ed)f(pat-)
2176 3397 y(tern.)k(If)17 b(`orig')e(is)i(null,)g(a)g(ne)n(w)f(pattern)
g(is)h(allocated.)23 b(The)2176 3497 y(pattern)c(ar)o(guments)f(are)j
(of)f(the)g(form:)2325 3699 y Fc(char)50 b(*object,)2325
3799 y(XftType)f(type,)2325 3899 y(union)g({)2525 3998
y(char)g(*s;)2525 4098 y(int)g(i;)2525 4197 y(Bool)g(b;)2525
4297 y(double)f(d;)2525 4397 y(XftMatrix)g(*m;)2325 4496
y(})i(u)2176 4699 y Fg(The)23 b(list)i(is)g(terminated)d(with)i(a)h
(NULL)e(object.)35 b(Here')-5 b(s)2176 4799 y(an)20 b(e)o(xample:)2176
5001 y Fc(p)50 b(=)f(XftPatternBuild)e(\()2375 5101 y(0,)2375
5201 y(XFT_FAMILY,)2475 5300 y(XftTypeString,)2475 5400
y("mono",)p eop
%%Page: 13 13
13 12 bop 365 83 a Fc(XFT_SIZE,)465 183 y(XftTypeDouble,)465
282 y(12.0,)365 382 y(0\);)166 570 y Fg(This)18 b(function)f(is)i(a)f
(con)m(v)o(enience)e(function)g(encapsulat-)166 669 y(ing)h(se)n(v)o
(eral)h(calls)g(to)g(XftP)o(atternAdd)e(in)i(one)f(statement,)166
769 y(the)g(semantics)f(are)h(identical)f(to)h(making)f(the)g(equi)n(v)
n(alent)166 868 y(set)21 b(of)f(XftP)o(atternAdd)e(calls.)166
1056 y Fc(XftPattern)48 b(*)166 1156 y(XftPatternVaBuild)f(\()365
1255 y(XftPattern)h(*orig,)365 1355 y(va_list)h(va\))166
1543 y Fg(This)35 b(tak)o(es)g(the)f(a)h(v)n(arar)o(gs)e(list)j(of)e
(ar)o(guments)f(in)i(the)166 1642 y(same)24 b(format)g(as)g(XftP)o
(atternBuild,)g(yielding)f(identical)166 1742 y(results.)0
2036 y Ff(10.3)92 b(F)n(ont)22 b(Selection)0 2330 y Fg(Xft)34
b(e)o(xposes)e(se)n(v)o(eral)h(le)n(v)o(els)g(of)g(font)g(selection)g
(functions.)0 2430 y(The)21 b(patterns)g(in)m(v)n(olv)o(ed)f(can)h
(either)h(be)f(implicitly)g(generated)0 2529 y(using)c(a)h(simple)f
(font)g(name)g(string,)h(or)f(the)o(y)g(can)g(be)h(e)o(xplicitly)0
2629 y(managed)i(by)i(the)g(application)f(and)g(manipulated)f(before)h
(be-)0 2729 y(ing)27 b(presented)f(to)h(the)g(underlying)d(interf)o
(ace)j(for)f(matching.)0 2828 y(Starting)20 b(with)g(the)g(most)g
(primiti)n(v)o(e)f(le)n(v)o(el,)h(Xft)g(pro)o(vides:)0
3085 y Fa(XftF)n(ontMatch)166 3184 y Fc(XftPattern)48
b(*)166 3284 y(XftFontMatch)g(\()365 3384 y(Display)h(*dpy,)365
3483 y(int)h(screen,)365 3583 y(XftPattern)e(*pattern,)365
3682 y(XftResult)g(*result\))166 3813 y Fg(This)28 b(function)e(tak)o
(es)i(the)f(application-generated)d(Xft-)166 3913 y(P)o(attern,)39
b(performs)34 b(the)i(con\002g)f(\002le)i(edits)f(and)f(X)i(re-)166
4012 y(source)h(substitutions)g(and)h(then)f(matches)h(the)g(result)166
4112 y(against)k(the)g(set)h(of)f(a)n(v)n(ailable)g(fonts.)94
b(The)43 b(closest)166 4211 y(matching)23 b(font)i(name)f(is)i
(returned)d(as)i(another)f(XftP)o(at-)166 4311 y(tern)16
b(which)h(contains)f(enough)f(information)f(to)j(open)f(the)166
4411 y(font)f(with)h(the)g(ne)o(xt)f(function,)f(XftF)o(ontOpenP)o
(attern.)21 b(In)166 4510 y(case)j(of)f(f)o(ailure,)h(the)g(return)e(v)
n(alue)h(is)h(0)g(and)f(an)g(indica-)166 4610 y(tion)d(of)g(the)g
(error)f(is)i(placed)f(in)g(result.)0 4771 y Fa(XftF)n(ontOpenP)o
(atter)o(n)166 4871 y Fc(XftFont)49 b(*)166 4971 y(XftFontOpenPattern)d
(\()365 5070 y(Display)j(*dpy,)365 5170 y(XftPattern)f(*pattern\))166
5300 y Fg(XftF)o(ontOpenP)o(attern)15 b(accepts)j(a)g(matched)e(font)h
(pattern)166 5400 y(and)26 b(creates)g(an)g(XftF)o(ont)g(structure)f
(for)g(the)i(font.)42 b(The)2176 83 y(returned)19 b(XftF)o(ont)g
(contains)h(a)g(reference)f(to)h(the)h(passed)2176 183
y(pattern,)c(this)h(pattern)e(will)i(be)f(destro)o(yed)f(when)g(the)i
(Xft-)2176 282 y(F)o(ont)i(is)h(passed)f(to)g(XftF)o(ontClose.)2010
445 y Fa(XftF)n(ontOpen)2176 545 y Fc(XftFont)49 b(*)2176
645 y(XftFontOpen)f(\()2375 744 y(Display)h(*dpy,)2375
844 y(int)h(screen,)2375 944 y(...\))2176 1075 y Fg(Ar)o(guments)25
b(after)i(`screen')f(form)g(an)h(implicit)g(XftP)o(at-)2176
1175 y(tern)18 b(as)h(seen)f(in)h(the)f(description)f(of)g(XftP)o
(atternBuild)g(in)2176 1274 y(Section)j(10.2.)k(Here')-5
b(s)20 b(an)g(e)o(xample:)2176 1467 y Fc(f)50 b(=)f(XftFontOpen)f(\()
2375 1566 y(dpy,)2375 1666 y(DefaultScreen\(dpy\),)2375
1765 y(XFT_FAMILY,)2475 1865 y(XftTypeString,)2475 1965
y("mono",)2375 2064 y(XFT_SIZE,)2475 2164 y(XftTypeDouble,)2475
2264 y(12.0,)2375 2363 y(0\);)2176 2555 y Fg(A)20 b(pattern)f(is)h
(created)f(from)f(the)h(ar)o(guments)f(and)h(passed)2176
2655 y(to)g(XftF)o(ontMatch,)e(the)i(result)g(of)g(that)g(is)h(passed)f
(to)g(Xft-)2176 2755 y(F)o(ontOpenP)o(attern)27 b(which)h(produces)g
(the)h(return)f(v)n(alue)2176 2854 y(for)20 b(this)g(function.)2010
3017 y Fa(XftF)n(ontOpenName)2176 3117 y Fc(XftFont)49
b(*)2176 3217 y(XftFontOpenName)e(\()2375 3316 y(Display)i(*dpy,)2375
3416 y(int)h(screen,)2375 3516 y(const)f(char)g(*name\))2176
3647 y Fg(Similar)k(to)f(XftF)o(ontOpen,)59 b(the)53
b(`name')e(ar)o(gument)2176 3747 y(forms)39 b(an)g(implicit)g(XftP)o
(attern,)k(XftF)o(ontMatcn)38 b(and)2176 3846 y(XftF)o(ontOpenP)o
(attern)27 b(are)j(used)g(in)h(the)f(same)g(f)o(ashion)2176
3946 y(to)20 b(produce)f(a)h(matching)f(XftF)o(ont.)2010
4109 y Fa(XftF)n(ontOpenXlfd)2176 4209 y Fc(XftFont)49
b(*)2176 4308 y(XftFontOpenXlfd)e(\()2375 4408 y(Display)i(*dpy,)2375
4508 y(int)h(screen,)2375 4607 y(const)f(char)g(*xlfd\))2176
4739 y Fg(This)24 b(functions)f(precisely)h(as)h(XftF)o(ontOpenName)c
(e)o(x-)2176 4838 y(cept)h(that)f(the)h(XftP)o(attern)f(is)i(generated)
d(by)h(parsing)g(the)2176 4938 y(XLFD)g(name)e(`xlfd'.)2010
5101 y Fa(XftF)n(ontClose)2176 5201 y Fc(void)2176 5300
y(XftFontClose)48 b(\()2375 5400 y(Display)h(*dpy,)p
eop
%%Page: 14 14
14 13 bop 365 83 a Fc(XftFont)49 b(*font\))166 217 y
Fg(The)41 b(underlying)d(core)i(or)g(FreeT)-7 b(ype)40
b(font)g(object)h(is)166 317 y(closed)21 b(and)h(the)f(pattern)g
(referenced)e(by)j(the)f(font)g(is)i(de-)166 417 y(stro)o(yed.)0
717 y Ff(10.4)92 b(XftDraw)23 b(Manipulation)0 1017 y
Fg(Xft)54 b(pro)o(vides)e(an)i(abstraction)e(that)i(masks)g(the)g(dif)n
(fer)n(-)0 1117 y(ences)40 b(between)e(core)i(X)g(and)f(Render)g(e)o
(xtension)f(render)n(-)0 1217 y(ing.)48 b(The)27 b(XftDra)o(w)g(object)
h(pro)o(vides)e(the)i(tar)o(get)f(for)g(either)0 1316
y(mode,)g(wrapping)f(suitable)g(information)f(for)h(either)h(render)n
(-)0 1416 y(ing)20 b(model.)0 1700 y Fa(XftDrawCr)o(eate)166
1800 y Fc(XftDraw)49 b(*)166 1900 y(XftDrawCreate)e(\()365
1999 y(Display)i(*dpy,)365 2099 y(Drawable)g(drawable,)365
2199 y(Visual)g(*visual,)365 2298 y(Colormap)g(colormap\))166
2432 y Fg(This)21 b(routine)e(creates)i(an)g(XftDra)o(w)f(object)g
(referencing)166 2532 y(mentioned)30 b(dra)o(w)o(able)i(along)f(with)h
(its)i(associated)e(vi-)166 2632 y(sual)18 b(and)f(colormap.)22
b(The)c(visual)f(ar)o(gument)f(is)i(required)166 2731
y(e)n(v)o(en)23 b(for)f(pixmap)h(rendering)e(as)j(it)g(speci\002es)g
(the)g(e)n(v)o(en-)166 2831 y(tual)c(format)f(for)h(the)g(pix)o(el)g(v)
n(alues.)0 3000 y Fa(XftDrawCr)o(eateBitmap)166 3100
y Fc(XftDraw)49 b(*)166 3199 y(XftDrawCreateBitmap)d(\()365
3299 y(Display)j(*dpy,)365 3399 y(Pixmap)g(bitmap\))166
3533 y Fg(When)32 b(the)h(rendering)d(tar)o(get)i(is)h(a)g(1-bit)f
(bitmap,)j(this)166 3632 y(function)19 b(is)i(used)f(in)g(place)g(of)g
(XftDra)o(wCreate.)0 3801 y Fa(XftDrawChange)166 3901
y Fc(void)166 4001 y(XftDrawChange)47 b(\()365 4100 y(XftDraw)i(*draw,)
365 4200 y(Drawable)g(drawable\))166 4334 y Fg(This)41
b(function)d(switches)j(the)f(underlying)e(rendering)166
4434 y(tar)o(get)23 b(without)f(af)n(fecting)g(an)o(y)h(other)f
(properties)g(of)i(the)166 4534 y(XftDra)o(w)29 b(object.)53
b(Applications)29 b(are)h(responsible)e(for)166 4633
y(ensuring)23 b(that)h(the)g(dra)o(w)o(able)f(uses)h(the)h(same)f
(visual)g(as)166 4733 y(the)c(original)f(dra)o(w)o(able.)0
4902 y Fa(XftDrawDisplay)-5 b(,XftDrawDrawable,)0 5001
y(XftDrawColormap,XftDrawV)m(isual)166 5101 y Fc(Display)49
b(*)166 5201 y(XftDrawDisplay)e(\()365 5300 y(XftDraw)i(*draw\))2176
83 y(Drawable)2176 183 y(XftDrawDrawable)e(\()2375 282
y(XftDraw)i(*draw\))2176 482 y(Colormap)2176 581 y(XftDrawColormap)e
(\()2375 681 y(XftDraw)i(*draw\))2176 880 y(Visual)g(*)2176
980 y(XftDrawVisual)e(\()2375 1079 y(XftDraw)i(*draw\))2176
1216 y Fg(These)23 b(functions)f(simply)g(return)g(the)h(associated)g
(v)n(alue)2176 1315 y(from)c(the)h(opaque)f(XftDra)o(w)g(structure.)
2010 1489 y Fa(XftDrawDestr)o(oy)2176 1588 y Fc(void)2176
1688 y(XftDrawDestroy)47 b(\()2375 1788 y(XftDraw)i(*draw\))2176
1924 y Fg(This)29 b(destro)o(ys)g(the)g(XftDra)o(w)f(object)h(and)f(an)
o(y)h(pri)n(v)n(ate)2176 2024 y(data)24 b(allocated)g(therein.)37
b(The)24 b(X)h(dra)o(w)o(able)e(referenced)2176 2123
y(is)e(not)f(destro)o(yed..)2010 2426 y Ff(10.5)92 b(Glyph)22
b(Rendering)2010 2729 y Fg(W)m(ith)17 b(an)f(XftF)o(ont)f(and)h(an)g
(XftDra)o(w)g(in)g(hand,)g(the)g(ne)o(xt)g(step)h(is)2010
2828 y(to)g(use)f(them)h(together)e(and)h(present)g(some)g(te)o(xt)g
(on)h(the)f(screen.)2010 2928 y(This)23 b(is)i(relati)n(v)o(ely)d
(simple)h(as)h(the)f(encoding)e(is)j(al)o(w)o(ays)g(Uni-)2010
3027 y(code)17 b(and)f(the)i(only)e(thing)h(that)g(changes)f(is)j(ho)n
(w)d(those)i(glyphs)2010 3127 y(are)h(stored.)24 b(This)19
b(section)g(also)g(documents)e(a)i(fe)n(w)g(other)f(con-)2010
3227 y(v)o(enience)h(functions)g(for)g(applications)h(w)o(anting)f(to)i
(use)f(simi-)2010 3326 y(lar)g(data)g(structures)g(for)g(other)f
(operations.)2010 3596 y Fa(XftT)-8 b(extExtents)2176
3695 y Fc(void)2176 3795 y(XftTextExtents<8,16,32,Utf8>)45
b(\()2375 3895 y(Display)k(*dpy,)2375 3994 y(XftFont)g(*font,)2375
4094 y(XftChar<8,16,32,8>)e(*string,)2375 4193 y(int)j(len,)2375
4293 y(XGlyphInfo)e(*extents\))2176 4430 y Fg(These)29
b(functions)e(measure)h(the)h(e)o(xtents)f(of)h(the)g(speci-)2176
4529 y(\002ed)f(string)g(and)f(returns)g(the)i(metrics)f(in)g(the)g(`e)
o(xtents')2176 4629 y(structure.)2010 4802 y Fa(XftDrawString)2176
4902 y Fc(void)2176 5001 y(XftDrawString<8,16,32,Utf8>)45
b(\()2375 5101 y(XftDraw)k(*d,)2375 5201 y(XftColor)g(*color,)2375
5300 y(XftFont)g(*font,)2375 5400 y(int)h(x,)p eop
%%Page: 15 15
15 14 bop 365 83 a Fc(int)50 b(y,)365 183 y(XftChar<8,16,32,8>)d
(*string,)365 282 y(int)j(len\))166 417 y Fg(Each)17
b(of)f(these)i(functions)d(displays)i(a)g(single)g(string.)24
b(F)o(or)166 517 y(Render)17 b(te)o(xt,)h(the)f(string)g(is)i(painted)d
(using)h(the)h(Ov)o(er)e(op-)166 616 y(erator)-5 b(.)24
b(F)o(or)c(core)f(te)o(xt,)h(it)g(is)h(painted)e(with)h(GXcop)o(y)f
(and)166 716 y(a)i(full)f(planemask.)0 886 y Fa(XftDrawRect)166
985 y Fc(void)166 1085 y(XftDrawRect)48 b(\()365 1185
y(XftDraw)h(*d,)365 1284 y(XftColor)g(*color,)365 1384
y(int)h(x,)365 1484 y(int)g(y,)365 1583 y(unsigned)f(int)g(width,)365
1683 y(unsigned)g(int)g(height\))166 1818 y Fg(This)18
b(simple)f(function)f(paints)h(a)h(single)g(rectangle)e(in)i(the)166
1917 y(speci\002ed)i(color)-5 b(.)0 2087 y Fa(XftDrawSetClip)166
2187 y Fc(Bool)166 2286 y(XftDrawSetClip)47 b(\()365
2386 y(XftDraw)i(*d,)365 2486 y(Region)g(r\))166 2620
y Fg(The)26 b(clip)h(list)g(for)f(the)g(speci\002ed)g(XftDra)o(w)g(is)h
(set)h(from)166 2720 y(the)i(speci\002ed)g(re)o(gion.)54
b(Alternati)n(v)o(e)29 b(functions)f(taking)166 2820
y(lists)22 b(of)e(rectangles)f(should)g(probably)f(be)i(added.)0
3120 y Ff(10.6)92 b(F)n(ont)22 b(Listing)0 3421 y Fg(Xft)f(pro)o(vides)
e(a)j(relati)n(v)o(ely)d(comple)o(x)g(mechanism)h(for)g(listing)0
3521 y(a)n(v)n(ailable)i(fonts.)33 b(This)23 b(allo)n(ws)h(the)f(same)g
(mechanism)e(to)i(list)0 3620 y(a)n(v)n(ailable)c(f)o(aces)g(as)h(well)
f(as)h(a)n(v)n(ailable)e(styles)i(for)e(a)i(particular)0
3720 y(f)o(ace)26 b(without)f(returning)e(e)o(xtraneous)h(data.)41
b(This)26 b(is)h(accom-)0 3820 y(plished)18 b(by)g(ha)n(ving)f(the)h
(application)f(declare)g(which)h(\002elds)h(of)0 3919
y(the)k(font)g(patterns)g(are)g(important)f(and)h(separately)g(pro)o
(vide)e(a)0 4019 y(pattern)16 b(to)i(select)g(matching)e(fonts.)24
b(F)o(or)17 b(each)g(matching)e(font,)0 4119 y(an)26
b(entry)g(for)g(the)g(returned)f(list)i(is)h(generated)c(by)i(e)o
(xtracting)0 4218 y(only)20 b(those)h(\002elds)g(selected)g(by)g(the)f
(XftObjectList)h(pro)o(vided)0 4318 y(by)29 b(the)f(application.)50
b(A)30 b(unique)d(set)j(of)e(such)h(entries)g(is)h(re-)0
4417 y(turned)19 b(to)h(the)g(application.)0 4617 y(Because)32
b(listing)g(fonts)g(is)h(a)f(fundamentally)d(separate)j(pro-)0
4716 y(cess)26 b(from)f(opening)f(a)i(single)f(font,)h(the)g(semantics)
f(for)g(ho)n(w)0 4816 y(patterns)h(match)h(fonts)f(in)i(this)f(process)
g(is)h(dif)n(ferent)d(than)h(in)0 4916 y(Section)18 b(10.3.)23
b(Matching)16 b(in)j(this)f(conte)o(xt)f(requires)g(that)h(each)0
5015 y(of)f(the)g(elements)g(of)g(the)g(pattern)f(must)h(ha)n(v)o(e)g
(one)g(v)n(alue)f(which)0 5115 y(precisely)j(matches)h(the)g
(associated)g(font)g(element.)0 5400 y Fa(XftObjectSetCr)o(eate)2176
83 y Fc(XftObjectSet)48 b(*)2176 183 y(XftObjectSetCreate)e(\()2375
282 y(void\))2176 418 y Fg(Creates)21 b(an)f(empty)f(XftObjectSet.)2010
589 y Fa(XftObjectSetAdd)2176 688 y Fc(Bool)2176 788
y(XftObjectSetAdd)47 b(\()2375 887 y(XftObjectSet)h(*os,)2375
987 y(const)h(char)g(*object\))2176 1122 y Fg(Add)25
b(a)h(single)f(\002eld)g(name)g(to)g(an)h(XftObjectSet.)40
b(Stor)n(-)2176 1222 y(age)23 b(is)i(allocated)e(for)g(the)g(name)g
(and)g(it)i(is)f(copied)f(from)2176 1322 y(the)28 b(ar)o(gument)d
(permitting)h(the)i(application)e(to)i(release)2176 1421
y(or)20 b(reuse)g(its)h(o)n(wn)f(cop)o(y)-5 b(.)2010
1592 y Fa(XftObjectSetDestr)o(oy)2176 1692 y Fc(void)2176
1791 y(XftObjectSetDestroy)46 b(\()2375 1891 y(XftObjectSet)i(*os\))
2176 2026 y Fg(The)17 b(XftObjectSet)h(is)h(destro)o(yed)d(along)h
(with)g(an)o(y)g(other)2176 2126 y(referenced)h(storage.)2010
2297 y Fa(XftObjectSetBuild,)h(XftObjectSetV)-8 b(aBuild)2176
2396 y Fc(XftObjectSet)48 b(*)2176 2496 y(XftObjectSetBuild)f(\()2375
2596 y(const)i(char)g(*first,)2375 2695 y(...\))2176
2895 y(XftObjectSet)f(*)2176 2994 y(XftObjectSetVaBuild)e(\()2375
3094 y(const)j(char)g(*first,)2375 3194 y(va_list)g(va\))2176
3329 y Fg(XftObjectSetBuild)24 b(creates)h(an)f(XftObjectSet)h(from)e
(a)2176 3428 y(list)31 b(of)f(object)g(names)g(terminated)f(with)h
(NULL.)g(This)2176 3528 y(permits)25 b(the)g(quick)f(construction)f(of)
h(a)i(constant)e(set)i(of)2176 3628 y(names)g(without)h(a)g(long)f
(sequence)f(of)i(calls)g(and)f(is)i(se-)2176 3727 y(mantically)f(equi)n
(v)n(alent)g(to)h(such)g(a)h(sequence)e(of)h(calls.)2176
3827 y(XftObjectSetV)-9 b(aBuild)25 b(tak)o(es)h(an)f(e)o(xisting)g(v)n
(arar)o(gs)f(list)2176 3927 y(and)c(does)g(the)g(same)g(thing.)2010
4098 y Fa(XftListF)n(ontsP)o(atter)o(nObjects)2176 4197
y Fc(XftFontSet)48 b(*)2176 4297 y(XftListFontsPatternObjects)d(\()2375
4396 y(Display)248 b(*dpy,)2375 4496 y(int)h(screen,)2375
4596 y(XftPattern)e(*pattern,)2375 4695 y(XftObjectSet)197
b(*os\))2176 4831 y Fg(F)o(or)26 b(each)h(font)f(matching)f(`pattern',)
h(a)h(ne)n(w)g(pattern)f(is)2176 4930 y(generated)h(including)f(only)i
(those)g(elements)g(speci\002ed)2176 5030 y(in)18 b(`os'.)24
b(This)18 b(function)f(then)g(mer)o(ges)g(each)h(ne)n(w)f(pattern)2176
5129 y(into)f(the)g(return)f(v)n(alue)h(so)g(that)h(only)e(unique)g
(patterns)h(are)2176 5229 y(included.)2010 5400 y Fa(XftListF)n(onts)p
eop
%%Page: 16 16
16 15 bop 166 83 a Fc(XftFontSet)48 b(*)166 183 y(XftListFonts)g(\()365
282 y(Display)h(*dpy,)365 382 y(int)h(screen,)365 482
y(...\))166 676 y Fg(The)18 b(v)n(ariable)f(ar)o(guments)e(include)i(a)
i(list)g(of)e(pattern)h(ele-)166 775 y(ments)i(as)h(seen)f(in)h(the)f
(description)f(of)h(XftP)o(atternBuild)166 875 y(in)34
b(Section)g(10.2)f(follo)n(wed)f(by)i(a)g(NULL.)g(F)o(ollo)n(wing)166
974 y(that,)17 b(a)f(list)i(of)e(\002eld)g(names)g(as)h(described)e(by)
g(XftObject-)166 1074 y(SetBuild)29 b(in)h(this)g(section)f(follo)n
(wed)e(by)i(another)f(null.)166 1174 y(W)m(ith)18 b(the)f(pattern)g
(and)g(object)g(set)i(generated,)d(this)i(func-)166 1273
y(tion)e(calls)g(XftListF)o(ontP)o(atternObjects)e(and)i(returns)f(the)
166 1373 y(same)20 b(result.)0 1733 y Ff(10.7)92 b(Fr)n(eeT)-7
b(ype)24 b(Access)0 2093 y Fg(Where)30 b(more)g(comple)o(x)f
(interactions)h(with)h(the)f(underlying)0 2193 y(FreeT)-7
b(ype)26 b(library)f(or)i(Render)e(e)o(xtension)h(are)g(required,)g
(Xft)0 2293 y(pro)o(vides)18 b(some)i(functions)f(to)i(access)f(those)g
(more)g(directly)-5 b(.)0 2619 y Fa(XftFr)o(eeT)f(ypeGet)166
2719 y Fc(XftFontStruct)47 b(*)166 2819 y(XftFreeTypeGet)g(\()365
2918 y(XftFont)i(*font\))166 3112 y Fg(This)15 b(returns)g(the)g
(underlying)e(XftF)o(ontStruct)g(object)i(for)166 3212
y(the)g(gi)n(v)o(en)f(font,)i(or)f(NULL)g(if)g(the)h(underlying)c(font)
j(is)h(not)166 3312 y(a)21 b(FreeT)-7 b(ype)19 b(font.)0
3600 y Fa(XftRenderString)166 3700 y Fc(void)166 3799
y(XftRenderString<8,16,32,Utf8>)44 b(\()365 3899 y(Display)49
b(*dpy,)365 3999 y(Picture)g(src,)365 4098 y(XftFontStruct)f(*font,)365
4198 y(Picture)h(dst,)365 4298 y(int)h(srcx,)e(int)i(srcy,)365
4397 y(int)g(x,)f(int)g(y,)365 4497 y(XftChar<8,16,32,8>)e(*string,)365
4596 y(int)j(len\))166 4791 y Fg(These)23 b(four)g(related)f(functions)
g(all)i(pro)o(vide)e(a)i(bit)f(more)166 4890 y(control)16
b(o)o(v)o(er)f(the)i(dra)o(wing)e(of)h(te)o(xt)h(with)f(the)h(Render)f
(e)o(x-)166 4990 y(tension.)32 b(In)22 b(particular)m(,)g(the)o(y)g
(pro)o(vide)e(for)j(an)f(arbitrary)166 5089 y(source)16
b(picture)g(which)h(can)f(be)h(used)g(to)g(pattern)f(the)h(te)o(xt.)166
5189 y(Applications)e(might)g(also)h(be)g(able)f(to)h(perform)e(more)h
(ef-)166 5289 y(\002cient)j(caching)f(of)h(the)g(source)f(Picture)h
(data)g(with)g(these)166 5388 y(routines;)2010 83 y Fh(11)99
b(F)n(ont)25 b(Inf)n(ormation)g(Cache)2010 389 y Fg(As)20
b(described)f(in)g(Section)h(7.1,)e(the)i(library)f(generates)f(the)i
(set)2010 488 y(of)34 b(a)n(v)n(ailable)g(fonts)f(by)h(scanning)f(each)
h(of)f(the)i(directories)2010 588 y(listed)29 b(in)g(the)g
(con\002guration)d(\002les.)52 b(Disco)o(v)o(ering)26
b(the)j(prop-)2010 688 y(erties)f(of)f(a)g(font)g(requires)f(that)h
(the)h(font)e(\002le)i(be)f(opened)f(by)2010 787 y(FreeT)-7
b(ype)20 b(and)g(a)i(signi\002cant)e(amount)g(of)g(the)h(\002le)h
(processed.)2010 887 y(This)29 b(can)g(tak)o(e)g(quite)g(some)g(time,)i
(especially)e(with)g(a)h(lar)o(ge)2010 986 y(number)18
b(of)i(fonts.)2010 1186 y(T)-7 b(o)48 b(impro)o(v)o(e)d(the)j
(performance)d(of)j(this)g(operation,)k(Xft)2010 1285
y(caches)33 b(the)h(results)f(of)g(this)h(search)f(in)h(tw)o(o)f
(places.)65 b(Each)2010 1385 y(directory)27 b(may)i(contain)f(a)h
(\002le)h(named)e Fc(XftCache)g Fg(which)2010 1485 y(contains)i(a)i
(list)g(of)e(fonts,)j(one)e(per)f(line)h(with)h(the)f(font)f(\002le)
2010 1584 y(name,)23 b(the)h(inde)o(x)e(within)h(the)g(\002le)h(of)g
(the)f(font)g(and)g(informa-)2010 1684 y(tion)c(about)g(the)h(font)f
(represented)f(as)i(an)g(XftP)o(attern)f(in)h(string)2010
1783 y(form.)56 b(F)o(or)31 b(an)o(y)f(fonts)h(not)g(found)e(in)i(an)g
Fc(XftCache)f Fg(\002le,)2010 1883 y(Xft)25 b(generates)g(a)g
Fc(.xftcache)f Fg(\002le)i(in)f(the)g(users)h(home)e(di-)2010
1983 y(rectory)19 b(containing)f(the)i(font)g(\002le)h(name,)e(font)h
(inde)o(x,)f(the)h(\002le)2010 2082 y(modi\002cation)f(time)h(and)g
(the)g(XftP)o(attern.)2010 2282 y(XftCache)28 b(\002les)g(are)g(b)n
(uilt)g(by)g(the)g Fc(xftcache)f Fg(program,)g(a)2010
2381 y(standard)21 b(part)i(of)f(the)h(XFree86)e(release.)32
b(Users)24 b(are)e(encour)n(-)2010 2481 y(aged)15 b(to)h(run)f(this)i
(on)e(other)h(directories)f(added)f(to)i(the)g(Xft)g(con-)2010
2580 y(\002guration)21 b(\002le,)j(and)e(to)h(re-run)e(it)i(whene)n(v)o
(er)e(the)i(contents)f(of)2010 2680 y(those)e(directories)f(change.)k
(Xft)e(will)f(automatically)f(manage)2010 2780 y(the)28
b(contents)f(of)g(each)h(per)n(-user)e Fc(.xftcache)h
Fg(\002le)h(to)g(sa)n(v)o(e)2010 2879 y(unkno)n(wn)18
b(fonts)j(while)f(eliminating)g(information)e(present)i(in)2010
2979 y(an)g Fc(XftCache)f Fg(\002le.)2010 3178 y(Xft)25
b(still)i(scans)e(each)g(directory)f(at)i(startup)e(time,)j(b)n(ut)e
(it)h(\002rst)2010 3278 y(checks)19 b(the)g(per)n(-directory)d(and)j
(per)n(-user)f(caches)h(for)f(the)h(\002le-)2010 3377
y(name)24 b(before)f(attempting)g(to)i(open)e(it)i(with)g(FreeT)-7
b(ype.)36 b(This)2010 3477 y(dramatically)21 b(reduces)h(applications)g
(startup)g(time)h(while)g(re-)2010 3577 y(taining)15
b(the)h(accurac)o(y)e(pro)o(vided)f(by)j(querying)d(directory)h(con-)
2010 3676 y(tents.)2010 4098 y Fh(12)99 b(Futur)n(e)27
b(Dir)n(ections)2010 4404 y Fg(Xft)19 b(started)g(as)h(a)f(relati)n(v)o
(ely)f(small)h(ef)n(fort)f(to)h(bind)f(the)h(X)h(Ren-)2010
4503 y(der)c(e)o(xtension)f(with)i(the)f(FreeT)-7 b(ype)16
b(rasterizer)-5 b(.)23 b(It)17 b(gained)e(ne)n(w)2010
4603 y(capabilities)j(as)h(needed)e(to)h(pro)o(vide)e(support)h(for)h
(more)f(appli-)2010 4703 y(cations.)54 b(All)31 b(of)e(this)i(ne)n(w)f
(functionality)d(has)k(been)e(neces-)2010 4802 y(sary)-5
b(,)23 b(b)n(ut)g(some)g(of)g(it)h(has)g(outgro)n(wn)c(this)k
(X-centric)e(library)-5 b(.)2010 4902 y(In)22 b(particular)m(,)f(the)h
(font)f(con\002guration)f(mechanism)g(must)j(be)2010
5001 y(e)o(xtracted)30 b(from)h(Xft)g(and)g(placed)g(in)h(a)g(separate)
f(library)f(to)2010 5101 y(be)20 b(shared)f(with)h(printer)f(dri)n(v)o
(ers)g(and)g(other)h(non-X)e(font)h(con-)2010 5201 y(sumers.)k(This)16
b(will)g(ensure)e(that)i(fonts)f(can)g(be)g(easily)h(installed)2010
5300 y(and)23 b(managed)e(for)i(the)g(bene\002t)g(of)g(all)h
(applications,)f(not)g(just)2010 5400 y(those)d(displaying)f
(information)e(on)j(the)g(screen.)p eop
%%Page: 17 17
17 16 bop 0 83 a Fg(Xft)32 b(also)g(needs)f(additional)f(capabilities)h
(to)h(support)e(inter)n(-)0 183 y(nationalization.)k(Right)24
b(no)n(w)-5 b(,)24 b(the)g(XftF)o(ont)f(object)h(refers)f(to)0
282 y(a)28 b(single)g(FreeT)-7 b(ype)27 b(font.)47 b(If)27
b(that)h(font)f(doesn')o(t)f(contain)h(all)0 382 y(of)20
b(the)g(glyphs)f(necessary)g(to)i(render)d(a)j(particular)e(document,)0
482 y(the)e(missing)g(glyphs)f(will)i(not)e(be)h(displayed)f(correctly)
-5 b(.)22 b(Some)0 581 y(mechanism)33 b(for)h(\002nding)g(replacement)f
(glyphs)h(is)h(needed.)0 681 y(The)25 b(XftF)o(ont)f(structure)g
(should)g(be)h(e)o(xtended)e(to)i(optionally)0 780 y(perform)18
b(automatic)g(glyph)h(substitution)f(using)h(multiple)g(un-)0
880 y(derlying)f(FreeT)-7 b(ype)20 b(f)o(aces.)0 1079
y(F)o(or)30 b(applications)g(not)g(w)o(anting)g(automatic)g
(substitution,)i(it)0 1179 y(should)37 b(be)g(possible)h(to)f(match)h
(fonts)f(based)g(on)g(required)0 1279 y(subsets)22 b(of)g(Unicode)f
(glyphs;)h(the)f(information)f(about)h(glyph)0 1378 y(co)o(v)o(erage)d
(is)j(present)f(in)h(each)f(font)g(\002le,)g(applications)g(should)0
1478 y(be)25 b(able)f(to)h(specify)g(the)f(needed)g(range)g(of)g
(glyphs)g(and)g(ha)n(v)o(e)0 1577 y(Xft)c(match)g(fonts)g(based)g(on)f
(those)h(requirements.)0 2007 y Fh(13)99 b(Conclusion)0
2321 y Fg(The)23 b(de)n(v)o(elopment)e(of)i(Xft)h(has)g(follo)n(wed)e
(a)i(dif)n(ferent)e(model)0 2421 y(from)k(most)g(of)g(X)i(de)n(v)o
(elopment.)41 b(Early)26 b(v)o(ersions)f(of)i(the)f(li-)0
2520 y(brary)j(were)h(released)g(and)f(inte)o(grated)g(into)h(other)f
(projects;)0 2620 y(other)22 b(X)h(projects)f(ha)n(v)o(e)g(w)o(aited)h
(until)g(the)o(y)f(were)g(essentially)0 2719 y(stable)e(before)e(being)
h(re)n(vie)n(wed)f(by)h(the)h(community)e(at)i(lar)o(ge.)0
2919 y(As)28 b(use)g(of)f(the)g(library)f(has)i(gro)n(wn,)f(some)h
(major)e(impro)o(v)o(e-)0 3018 y(ments)38 b(ha)n(v)o(e)g(been)g(added)g
(without)g(signi\002cantly)f(impact-)0 3118 y(ing)26
b(those)f(other)h(projects.)41 b(Future)26 b(enhancements)d(may)j(re-)0
3218 y(quire)17 b(changes)f(to)i(e)o(xisting)e(applications,)h(b)n(ut)h
(that)f(should)g(be)0 3317 y(vie)n(wed)24 b(as)h(a)f(part)g(of)g(this)h
(process;)h(much)e(of)g(this)g(library)g(is)0 3417 y(breaking)k(ne)n(w)
h(ground)e(for)i(the)h(XFree86)f(community)e(and)0 3516
y(only)17 b(through)f(widespread)h(re)n(vie)n(w)g(and)h(use)g(can)g
(appropriate)0 3616 y(architecture)h(be)h(de)n(v)o(eloped.)0
3815 y(The)31 b(design)g(and)f(implementation)f(of)i(Xft)h(has)f
(progressed)0 3915 y(rapidly)-5 b(.)31 b(Ev)o(en)21 b(though)g(Xft)i(w)
o(as)h(started)e(only)g(one)g(year)g(ago)0 4015 y(it)j(has)f(already)e
(become)h(an)h(essential)g(part)g(of)f(man)o(y)g(current)0
4114 y(X)e(projects.)0 4544 y Fh(Refer)n(ences)0 4806
y Fg([P)o(ac01])39 b(K)n(eith)h(P)o(ackard.)89 b(Design)39
b(and)g(Implementation)298 4906 y(of)32 b(the)f(X)h(Rendering)e
(Extension.)64 b(In)31 b Fe(FREENIX)298 5005 y(T)-5 b(r)o(ac)n(k,)31
b(2001)26 b(Usenix)i(Annual)e(T)-8 b(ec)o(hnical)26 b(Confer)n(-)298
5105 y(ence)p Fg(,)20 b(Boston,)g(MA,)g(June)g(2001.)f(USENIX.)0
5300 y([SG92])52 b(Robert)23 b(W)-8 b(.)24 b(Schei\003er)f(and)g(James)
g(Gettys.)39 b Fe(X)23 b(W)-5 b(in-)298 5400 y(dow)21
b(System)p Fg(.)29 b(Digital)20 b(Press,)h(third)f(edition,)f(1992.)
2010 83 y([TT00])56 b(Da)n(vid)e(T)l(urner)f(and)g(The)g(FreeT)-7
b(ype)53 b(De)n(v)o(elop-)2308 183 y(ment)27 b(T)-6 b(eam.)49
b(The)27 b(design)f(of)g(FreeT)-7 b(ype)26 b(2,)i(2000.)2308
282 y(http://www)-5 b(.freetype.or)o(g/freetyp)o(e2/d)o(ocs/d)o
(esign/.)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
